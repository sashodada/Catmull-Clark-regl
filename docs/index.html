<!DOCTYPE html>
<html>
<head>
<title>---</title>
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport" />
<meta charset=utf-8><meta name="description" content="Implementation of the Catmull-Clark subdivision algorithm using JavaScript and ReGL(a WebGL wrapper library)">
<meta name="subject" content="Implementation of the Catmull-Clark subdivision algorithm using JavaScript and ReGL(a WebGL wrapper library)">
<meta name="abstract" content="Implementation of the Catmull-Clark subdivision algorithm using JavaScript and ReGL(a WebGL wrapper library)">
<meta name="twitter:description" content="Implementation of the Catmull-Clark subdivision algorithm using JavaScript and ReGL(a WebGL wrapper library)">
<meta name="author" content="Aleksandar Shumakov">
<meta name="twitter:creator" content="Aleksandar Shumakov">
<meta name="twitter:card" content="summary">
<meta property="og:description" content="Implementation of the Catmull-Clark subdivision algorithm using JavaScript and ReGL(a WebGL wrapper library)">
<meta property="article:author" content="Aleksandar Shumakov">
</head>
<body></body>
<script>!function o(u,a,f){function c(t,e){if(!a[t]){if(!u[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(s)return s(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var i=a[t]={exports:{}};u[t][0].call(i.exports,function(e){return c(u[t][1][e]||e)},i,i.exports,o,u,a,f)}return a[t].exports}for(var s="function"==typeof require&&require,e=0;e<f.length;e++)c(f[e]);return c}({1:[function(e,t,n){"use strict";n.__esModule=!0;var r=e("regl"),i=e("regl-camera"),o=e("./catmull_clark"),u=e("lodash"),a=e("./util"),f=e("./shader_code"),c=e("angle-normals"),s=(l.prototype.handleToggleWireframe=function(){this.drawFunc.cancel(),this.wireframe=!this.wireframe,this.initRegl(this.obj.positions,this.obj.cells)},l.prototype.handleUpshift=function(){this.drawFunc.cancel(),this.obj=o.catmullClark(this.obj.positions,this.obj.cells),this.subdivisionCounter++,this.initRegl(this.obj.positions,this.obj.cells)},l.prototype.handleReset=function(){this.drawFunc.cancel(),this.wireframe=!1,this.obj={positions:this.positions,cells:this.cells},this.subdivisionCounter=0,this.initRegl(this.positions,this.cells)},l.prototype.initRegl=function(e,t){var n=this;this.wireframe||(t=u.flatMap(t,a.polisToTris)),this.polygonCount=t.length,this.vertexCount=e.length;var r=c(t,e);this.draw=this.regl({vert:f.vertexShaderCode,frag:f.fragmentShaderCode,attributes:{position:e,normal:r},primitive:this.wireframe?"lines":"triangles",elements:t}),this.drawFunc=this.regl.frame(function(){n.regl.clear({color:[.6,.6,1,1]}),n.camera(n.draw)})},l);function l(e,t){this.positions=e,this.cells=t,this.subdivisionCounter=0,this.regl=r(),this.camera=i(this.regl,{center:[0,0,0],distance:25}),this.obj={positions:this.positions,cells:this.cells},this.initRegl(this.positions,this.cells)}n.CallHandler=s},{"./catmull_clark":2,"./shader_code":5,"./util":7,"angle-normals":8,lodash:58,regl:64,"regl-camera":63}],2:[function(e,t,n){"use strict";var l=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],u=0,a=o.length;u<a;u++,i++)r[i]=o[u];return r};n.__esModule=!0;var p=e("gl-vec3"),u=e("./subdivision_manager");function h(e){return e.sort().toString()}function a(f,c,s,l){f.forEach(function(e,t){var n,r,i,o,u=[e,f[(t+1)%f.length]],a=(n=u,r=s,i=p.fromValues(0,0,0),n.forEach(function(e){return p.add(i,i,r[e])}),p.scale(i,i,1/n.length),i);u.forEach(function(e){var t;(t=l.has(e)?l.get(e):{edgeMidPoints:new Map,facePoints:[]}).edgeMidPoints.set(a.toString(),a),l.set(e,t)}),(o=l.has(e)?l.get(e):{edgeMidPoints:new Map,facePoints:[]}).facePoints.push(c),l.set(e,o)})}function d(e){var t=p.fromValues(0,0,0);return e.forEach(function(e){p.add(t,t,e)}),p.scale(t,t,1/e.length),t}n.catmullClark=function(f,e){var r=new Map(e.map(function(e,t){return[t,(n=e,r=f,i=p.fromValues(0,0,0),n.forEach(function(e){return p.add(i,i,r[e])}),p.scale(i,i,1/n.length),i)];var n,r,i})),c=new Map;e.forEach(function(e,t){return i=e,n=r.get(t),o=c,u=n[0],a=n[1],f=n[2],void i.forEach(function(e,t){var n,r=[e,i[(t+1)%i.length]];(n=o.has(h(r))?o.get(h(r)):[]).push(p.fromValues(u,a,f)),o.set(h(r),n)});var i,n,o,u,a,f});var o=new Map(Array.from(c.entries()).map(function(e){var t,n,r,i,o,u=e[0],a=e[1];return[u,(t=a,o=f,n=u.split(",").map(Number.parseFloat).map(function(e){return o[e]}),r=p.fromValues(0,0,0),(i=l(t,n)).forEach(function(e){return p.add(r,r,e)}),p.scale(r,r,1/i.length),r)]})),n=new Map;e.forEach(function(e,t){return a(e,r.get(t),f,n)});var i=new Map(Array.from(n.entries()).map(function(e){var t=e[0],n=e[1];return[t,{newPosition:function(e,t,n){var r=n.facePoints.length,i=p.fromValues(0,0,0),o=d(n.facePoints);p.add(i,i,o);var u=d(Array.from(n.edgeMidPoints.values())),a=p.fromValues(0,0,0);p.scale(a,u,2),p.add(i,i,a);var f=t[e],c=f[0],s=f[1],l=f[2],h=p.fromValues(c,s,l);return p.scale(h,h,r-3),p.add(i,i,h),p.scale(i,i,1/r),i}(t,f,n),newIndex:null}]})),s=new u.SubdivisionManager;return e.forEach(function(u,e){var t=r.get(e),a=u.map(function(e){return s.getIndex(i.get(e))}),f=s.getIndex({newPosition:t,newIndex:null}),c=new Map(u.map(function(e,t){var n=[e,u[(t+1)%u.length]],r=h(n),i=o.get(h(n));return[r,s.getIndex({newPosition:i,newIndex:null})]}));u.forEach(function(e,t){var n=[e,u[(t+1)%u.length]],r=c.get(h(n)),i=[e,u[(t+u.length-1)%u.length]],o=c.get(h(i));s.addCell([o,a[t],r,f])})}),{positions:s.getPositions(),cells:s.getCells()}}},{"./subdivision_manager":6,"gl-vec3":30}],3:[function(e,t,n){"use strict";n.__esModule=!0;n.cube={positions:[[4,4,4],[4,4,-4],[4,-4,-4],[4,-4,4],[-4,4,4],[-4,4,-4],[-4,-4,-4],[-4,-4,4]],cells:[[0,3,2,1],[1,2,6,5],[5,6,7,4],[0,4,7,3],[0,1,5,4],[6,2,3,7]]}},{}],4:[function(e,t,n){"use strict";n.__esModule=!0;var r=e("./cube"),f=new(e("./callHandler").CallHandler)(r.cube.positions,r.cube.cells);window.onload=function(){var e=document.querySelector("body"),t=document.createElement("div");t.style.position="absolute",e.appendChild(t);var n=document.createElement("p");n.textContent="No subdivisions";var r=document.createElement("p");r.textContent=f.polygonCount+" triangles";var i=document.createElement("p");i.textContent=f.vertexCount+" vertices";var o=document.createElement("button");o.disabled=!0,o.textContent="Toggle wireframe mode",o.onclick=function(){f.handleToggleWireframe()};var u=document.createElement("button");u.textContent="Subdivide",u.onclick=function(){5<f.subdivisionCounter?alert("Too much polygons, cannot render properly!"):(f.handleUpshift(),o.disabled=!1,n.textContent="Subdivisions: "+f.subdivisionCounter,r.textContent=f.polygonCount+" triangles",i.textContent=f.vertexCount+" vertices")};var a=document.createElement("button");a.textContent="Reset",a.onclick=function(){f.handleReset(),o.disabled=!0,n.textContent="Subdivision restarted",r.textContent=f.polygonCount+" triangles",i.textContent=f.vertexCount+" vertices"},t.appendChild(a),t.appendChild(u),t.append(n),t.append(r),t.append(i),t.append(o)}},{"./callHandler":1,"./cube":3}],5:[function(e,t,n){"use strict";n.__esModule=!0,n.vertexShaderCode="\n  precision mediump float;\n  attribute vec3 position, normal;\n  uniform mat4 projection, view;\n\n  varying vec3 vNormal;\n\n  void main() {\n    vNormal = normal;\n    gl_Position = projection * view * vec4(position, 1.0);\n  }\n",n.fragmentShaderCode="\n  precision mediump float;\n  varying vec3 vNormal;\n  void main() {\n    vec3 lightDirection = -1.0 * vec3(1.0, 0.7, 0.5);\n    float brightness = max(0.0, dot(vNormal, lightDirection));\n\n    vec3 ambient = vec3(0.05);\n    vec3 meshColor = vec3(1.0, 0.7, 0.3);\n\n    vec3 normalColoring = vNormal;\n    vec3 inverseNormal = vec3(1.0) - normalColoring;\n    inverseNormal = inverseNormal * 0.1;\n\n    gl_FragColor = vec4(0.6 * (ambient + inverseNormal) + brightness * meshColor, 1.0);\n  }\n"},{}],6:[function(e,t,n){"use strict";n.__esModule=!0;var r=(i.prototype.getKey=function(e){return e.toString()},i.prototype.getIndex=function(e){var t=e.newIndex,n=e.newPosition;if(null!==t)return t;var r=this.getKey(n),i=this.indices.get(r);return i||(this.indices.set(r,this.vertexCounter),this.vertices[this.vertexCounter]=n,e.newIndex=this.vertexCounter,this.vertexCounter++)},i.prototype.addCell=function(e){this.faces.push(e)},i.prototype.getCells=function(){return this.faces},i.prototype.getPositions=function(){return this.vertices},i);function i(){this.indices=new Map,this.vertices=[],this.faces=[],this.vertexCounter=0}n.SubdivisionManager=r},{}],7:[function(e,t,n){"use strict";n.__esModule=!0,n.polisToTris=function(e){for(var t=[],n=1;n+1<e.length;++n){var r=[e[n],e[0],e[n+1]];t.push(r)}return t}},{}],8:[function(e,t,n){"use strict";function D(e,t,n){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2)+Math.pow(n,2))}function M(e,t,n){return Math.atan2(t,e-n)}function O(e,t,n,r,i){e[0]+=t*n,e[1]+=t*r,e[2]+=t*i}t.exports=function(e,t){for(var n=t.length,r=e.length,i=new Array(n),o=0;o<n;++o)i[o]=[0,0,0];for(o=0;o<r;++o){var u=e[o],a=t[u[0]],f=t[u[1]],c=t[u[2]],s=a[0]-f[0],l=a[1]-f[1],h=a[2]-f[2],p=D(s,l,h),d=f[0]-c[0],v=f[1]-c[1],g=f[2]-c[2],m=D(d,v,g),y=c[0]-a[0],b=c[1]-a[1],_=c[2]-a[2],x=D(y,b,_);if(!(Math.min(p,m,x)<1e-6)){var w=.5*(p+m+x),A=Math.sqrt((w-p)*(w-m)*(w-x)/w),k=l*g-h*v,E=h*d-s*g,j=s*v-l*d,C=D(k,E,j);k/=C,E/=C,j/=C,O(i[u[0]],M(w,A,m),k,E,j),O(i[u[1]],M(w,A,x),k,E,j),O(i[u[2]],M(w,A,p),k,E,j)}}for(o=0;o<n;++o){var S=i[o],T=Math.sqrt(Math.pow(S[0],2)+Math.pow(S[1],2)+Math.pow(S[2],2));T<1e-8?(S[0]=1,S[1]=0,S[2]=0):(S[0]/=T,S[1]/=T,S[2]/=T)}return i}},{}],9:[function(e,t,n){t.exports=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},{}],10:[function(e,t,n){var A=e("./identity");t.exports=function(e,t,n,r){var i,o,u,a,f,c,s,l,h,p,d=t[0],v=t[1],g=t[2],m=r[0],y=r[1],b=r[2],_=n[0],x=n[1],w=n[2];if(Math.abs(d-_)<1e-6&&Math.abs(v-x)<1e-6&&Math.abs(g-w)<1e-6)return A(e);s=d-_,l=v-x,h=g-w,p=1/Math.sqrt(s*s+l*l+h*h),i=y*(h*=p)-b*(l*=p),o=b*(s*=p)-m*h,u=m*l-y*s,(p=Math.sqrt(i*i+o*o+u*u))?(i*=p=1/p,o*=p,u*=p):u=o=i=0;a=l*u-h*o,f=h*i-s*u,c=s*o-l*i,(p=Math.sqrt(a*a+f*f+c*c))?(a*=p=1/p,f*=p,c*=p):c=f=a=0;return e[0]=i,e[1]=a,e[2]=s,e[3]=0,e[4]=o,e[5]=f,e[6]=l,e[7]=0,e[8]=u,e[9]=c,e[10]=h,e[11]=0,e[12]=-(i*d+o*v+u*g),e[13]=-(a*d+f*v+c*g),e[14]=-(s*d+l*v+h*g),e[15]=1,e}},{"./identity":9}],11:[function(e,t,n){t.exports=function(e,t,n,r,i){var o=1/Math.tan(t/2),u=1/(r-i);return e[0]=o/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(i+r)*u,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*i*r*u,e[15]=0,e}},{}],12:[function(e,t,n){t.exports=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}},{}],13:[function(e,t,n){t.exports=function(e,t){var n=o(e[0],e[1],e[2]),r=o(t[0],t[1],t[2]);u(n,n),u(r,r);var i=a(n,r);return 1<i?0:Math.acos(i)};var o=e("./fromValues"),u=e("./normalize"),a=e("./dot")},{"./dot":23,"./fromValues":29,"./normalize":40}],14:[function(e,t,n){t.exports=function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}},{}],15:[function(e,t,n){t.exports=function(e){var t=new Float32Array(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}},{}],16:[function(e,t,n){t.exports=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}},{}],17:[function(e,t,n){t.exports=function(){var e=new Float32Array(3);return e[0]=0,e[1]=0,e[2]=0,e}},{}],18:[function(e,t,n){t.exports=function(e,t,n){var r=t[0],i=t[1],o=t[2],u=n[0],a=n[1],f=n[2];return e[0]=i*f-o*a,e[1]=o*u-r*f,e[2]=r*a-i*u,e}},{}],19:[function(e,t,n){t.exports=e("./distance")},{"./distance":20}],20:[function(e,t,n){t.exports=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return Math.sqrt(n*n+r*r+i*i)}},{}],21:[function(e,t,n){t.exports=e("./divide")},{"./divide":22}],22:[function(e,t,n){t.exports=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}},{}],23:[function(e,t,n){t.exports=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}},{}],24:[function(e,t,n){t.exports=1e-6},{}],25:[function(e,t,n){t.exports=function(e,t){var n=e[0],r=e[1],i=e[2],o=t[0],u=t[1],a=t[2];return Math.abs(n-o)<=f*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-u)<=f*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(i-a)<=f*Math.max(1,Math.abs(i),Math.abs(a))};var f=e("./epsilon")},{"./epsilon":24}],26:[function(e,t,n){t.exports=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}},{}],27:[function(e,t,n){t.exports=function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}},{}],28:[function(e,t,n){t.exports=function(e,t,n,r,i,o){var u,a;t=t||3;n=n||0;a=r?Math.min(r*t+n,e.length):e.length;for(u=n;u<a;u+=t)f[0]=e[u],f[1]=e[u+1],f[2]=e[u+2],i(f,f,o),e[u]=f[0],e[u+1]=f[1],e[u+2]=f[2];return e};var f=e("./create")()},{"./create":17}],29:[function(e,t,n){t.exports=function(e,t,n){var r=new Float32Array(3);return r[0]=e,r[1]=t,r[2]=n,r}},{}],30:[function(e,t,n){t.exports={EPSILON:e("./epsilon"),create:e("./create"),clone:e("./clone"),angle:e("./angle"),fromValues:e("./fromValues"),copy:e("./copy"),set:e("./set"),equals:e("./equals"),exactEquals:e("./exactEquals"),add:e("./add"),subtract:e("./subtract"),sub:e("./sub"),multiply:e("./multiply"),mul:e("./mul"),divide:e("./divide"),div:e("./div"),min:e("./min"),max:e("./max"),floor:e("./floor"),ceil:e("./ceil"),round:e("./round"),scale:e("./scale"),scaleAndAdd:e("./scaleAndAdd"),distance:e("./distance"),dist:e("./dist"),squaredDistance:e("./squaredDistance"),sqrDist:e("./sqrDist"),length:e("./length"),len:e("./len"),squaredLength:e("./squaredLength"),sqrLen:e("./sqrLen"),negate:e("./negate"),inverse:e("./inverse"),normalize:e("./normalize"),dot:e("./dot"),cross:e("./cross"),lerp:e("./lerp"),random:e("./random"),transformMat4:e("./transformMat4"),transformMat3:e("./transformMat3"),transformQuat:e("./transformQuat"),rotateX:e("./rotateX"),rotateY:e("./rotateY"),rotateZ:e("./rotateZ"),forEach:e("./forEach")}},{"./add":12,"./angle":13,"./ceil":14,"./clone":15,"./copy":16,"./create":17,"./cross":18,"./dist":19,"./distance":20,"./div":21,"./divide":22,"./dot":23,"./epsilon":24,"./equals":25,"./exactEquals":26,"./floor":27,"./forEach":28,"./fromValues":29,"./inverse":31,"./len":32,"./length":33,"./lerp":34,"./max":35,"./min":36,"./mul":37,"./multiply":38,"./negate":39,"./normalize":40,"./random":41,"./rotateX":42,"./rotateY":43,"./rotateZ":44,"./round":45,"./scale":46,"./scaleAndAdd":47,"./set":48,"./sqrDist":49,"./sqrLen":50,"./squaredDistance":51,"./squaredLength":52,"./sub":53,"./subtract":54,"./transformMat3":55,"./transformMat4":56,"./transformQuat":57}],31:[function(e,t,n){t.exports=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}},{}],32:[function(e,t,n){t.exports=e("./length")},{"./length":33}],33:[function(e,t,n){t.exports=function(e){var t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)}},{}],34:[function(e,t,n){t.exports=function(e,t,n,r){var i=t[0],o=t[1],u=t[2];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e[2]=u+r*(n[2]-u),e}},{}],35:[function(e,t,n){t.exports=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e}},{}],36:[function(e,t,n){t.exports=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}},{}],37:[function(e,t,n){t.exports=e("./multiply")},{"./multiply":38}],38:[function(e,t,n){t.exports=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}},{}],39:[function(e,t,n){t.exports=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}},{}],40:[function(e,t,n){t.exports=function(e,t){var n=t[0],r=t[1],i=t[2],o=n*n+r*r+i*i;0<o&&(o=1/Math.sqrt(o),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o);return e}},{}],41:[function(e,t,n){t.exports=function(e,t){t=t||1;var n=2*Math.random()*Math.PI,r=2*Math.random()-1,i=Math.sqrt(1-r*r)*t;return e[0]=Math.cos(n)*i,e[1]=Math.sin(n)*i,e[2]=r*t,e}},{}],42:[function(e,t,n){t.exports=function(e,t,n,r){var i=n[1],o=n[2],u=t[1]-i,a=t[2]-o,f=Math.sin(r),c=Math.cos(r);return e[0]=t[0],e[1]=i+u*c-a*f,e[2]=o+u*f+a*c,e}},{}],43:[function(e,t,n){t.exports=function(e,t,n,r){var i=n[0],o=n[2],u=t[0]-i,a=t[2]-o,f=Math.sin(r),c=Math.cos(r);return e[0]=i+a*f+u*c,e[1]=t[1],e[2]=o+a*c-u*f,e}},{}],44:[function(e,t,n){t.exports=function(e,t,n,r){var i=n[0],o=n[1],u=t[0]-i,a=t[1]-o,f=Math.sin(r),c=Math.cos(r);return e[0]=i+u*c-a*f,e[1]=o+u*f+a*c,e[2]=t[2],e}},{}],45:[function(e,t,n){t.exports=function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}},{}],46:[function(e,t,n){t.exports=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}},{}],47:[function(e,t,n){t.exports=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e}},{}],48:[function(e,t,n){t.exports=function(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}},{}],49:[function(e,t,n){t.exports=e("./squaredDistance")},{"./squaredDistance":51}],50:[function(e,t,n){t.exports=e("./squaredLength")},{"./squaredLength":52}],51:[function(e,t,n){t.exports=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return n*n+r*r+i*i}},{}],52:[function(e,t,n){t.exports=function(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r}},{}],53:[function(e,t,n){t.exports=e("./subtract")},{"./subtract":54}],54:[function(e,t,n){t.exports=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}},{}],55:[function(e,t,n){t.exports=function(e,t,n){var r=t[0],i=t[1],o=t[2];return e[0]=r*n[0]+i*n[3]+o*n[6],e[1]=r*n[1]+i*n[4]+o*n[7],e[2]=r*n[2]+i*n[5]+o*n[8],e}},{}],56:[function(e,t,n){t.exports=function(e,t,n){var r=t[0],i=t[1],o=t[2],u=n[3]*r+n[7]*i+n[11]*o+n[15];return u=u||1,e[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/u,e[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/u,e[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/u,e}},{}],57:[function(e,t,n){t.exports=function(e,t,n){var r=t[0],i=t[1],o=t[2],u=n[0],a=n[1],f=n[2],c=n[3],s=c*r+a*o-f*i,l=c*i+f*r-u*o,h=c*o+u*i-a*r,p=-u*r-a*i-f*o;return e[0]=s*c+p*-u+l*-f-h*-a,e[1]=l*c+p*-a+h*-u-s*-f,e[2]=h*c+p*-f+s*-a-l*-u,e}},{}],58:[function(e,U,N){(function(q){(function(){var ou,uu="Expected a function",au="__lodash_hash_undefined__",fu="__lodash_placeholder__",cu=128,su=9007199254740991,lu=NaN,hu=4294967295,pu=[["ary",cu],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],du="[object Arguments]",vu="[object Array]",gu="[object Boolean]",mu="[object Date]",yu="[object Error]",bu="[object Function]",_u="[object GeneratorFunction]",xu="[object Map]",wu="[object Number]",Au="[object Object]",ku="[object Promise]",Eu="[object RegExp]",ju="[object Set]",Cu="[object String]",Su="[object Symbol]",Tu="[object WeakMap]",Du="[object ArrayBuffer]",Mu="[object DataView]",Ou="[object Float32Array]",zu="[object Float64Array]",Fu="[object Int8Array]",Lu="[object Int16Array]",Iu="[object Int32Array]",Bu="[object Uint8Array]",Ru="[object Uint8ClampedArray]",Pu="[object Uint16Array]",Wu="[object Uint32Array]",qu=/\b__p \+= '';/g,Uu=/\b(__p \+=) '' \+/g,Nu=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Hu=/&(?:amp|lt|gt|quot|#39);/g,Vu=/[&<>"']/g,$u=RegExp(Hu.source),Qu=RegExp(Vu.source),Ku=/<%-([\s\S]+?)%>/g,Yu=/<%([\s\S]+?)%>/g,Gu=/<%=([\s\S]+?)%>/g,Zu=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Xu=/^\w*$/,Ju=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ea=/[\\^$.*+?()[\]{}|]/g,ta=RegExp(ea.source),na=/^\s+|\s+$/g,ra=/^\s+/,ia=/\s+$/,oa=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ua=/\{\n\/\* \[wrapped with (.+)\] \*/,aa=/,? & /,fa=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ca=/\\(\\)?/g,sa=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,la=/\w*$/,ha=/^[-+]0x[0-9a-f]+$/i,pa=/^0b[01]+$/i,da=/^\[object .+?Constructor\]$/,va=/^0o[0-7]+$/i,ga=/^(?:0|[1-9]\d*)$/,ma=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ya=/($^)/,ba=/['\n\r\u2028\u2029\\]/g,e="\\ud800-\\udfff",t="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",n="\\u2700-\\u27bf",r="a-z\\xdf-\\xf6\\xf8-\\xff",i="A-Z\\xc0-\\xd6\\xd8-\\xde",o="\\ufe0e\\ufe0f",u="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",a="['’]",f="["+e+"]",c="["+u+"]",s="["+t+"]",l="\\d+",h="["+n+"]",p="["+r+"]",d="[^"+e+u+l+n+r+i+"]",v="\\ud83c[\\udffb-\\udfff]",g="[^"+e+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",b="["+i+"]",_="\\u200d",x="(?:"+p+"|"+d+")",w="(?:"+b+"|"+d+")",A="(?:['’](?:d|ll|m|re|s|t|ve))?",k="(?:['’](?:D|LL|M|RE|S|T|VE))?",E="(?:"+s+"|"+v+")"+"?",j="["+o+"]?",C=j+E+("(?:"+_+"(?:"+[g,m,y].join("|")+")"+j+E+")*"),S="(?:"+[h,m,y].join("|")+")"+C,T="(?:"+[g+s+"?",s,m,y,f].join("|")+")",_a=RegExp(a,"g"),xa=RegExp(s,"g"),D=RegExp(v+"(?="+v+")|"+T+C,"g"),wa=RegExp([b+"?"+p+"+"+A+"(?="+[c,b,"$"].join("|")+")",w+"+"+k+"(?="+[c,b+x,"$"].join("|")+")",b+"?"+x+"+"+A,b+"+"+k,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",l,S].join("|"),"g"),M=RegExp("["+_+e+t+o+"]"),Aa=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ka=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ea=-1,ja={};ja[Ou]=ja[zu]=ja[Fu]=ja[Lu]=ja[Iu]=ja[Bu]=ja[Ru]=ja[Pu]=ja[Wu]=!0,ja[du]=ja[vu]=ja[Du]=ja[gu]=ja[Mu]=ja[mu]=ja[yu]=ja[bu]=ja[xu]=ja[wu]=ja[Au]=ja[Eu]=ja[ju]=ja[Cu]=ja[Tu]=!1;var Ca={};Ca[du]=Ca[vu]=Ca[Du]=Ca[Mu]=Ca[gu]=Ca[mu]=Ca[Ou]=Ca[zu]=Ca[Fu]=Ca[Lu]=Ca[Iu]=Ca[xu]=Ca[wu]=Ca[Au]=Ca[Eu]=Ca[ju]=Ca[Cu]=Ca[Su]=Ca[Bu]=Ca[Ru]=Ca[Pu]=Ca[Wu]=!0,Ca[yu]=Ca[bu]=Ca[Tu]=!1;var O={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Sa=parseFloat,Ta=parseInt,z="object"==typeof q&&q&&q.Object===Object&&q,F="object"==typeof self&&self&&self.Object===Object&&self,Da=z||F||Function("return this")(),L="object"==typeof N&&N&&!N.nodeType&&N,I=L&&"object"==typeof U&&U&&!U.nodeType&&U,Ma=I&&I.exports===L,B=Ma&&z.process,R=function(){try{var e=I&&I.require&&I.require("util").types;return e||B&&B.binding&&B.binding("util")}catch(e){}}(),Oa=R&&R.isArrayBuffer,za=R&&R.isDate,Fa=R&&R.isMap,La=R&&R.isRegExp,Ia=R&&R.isSet,Ba=R&&R.isTypedArray;function Ra(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Pa(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var u=e[i];t(r,u,n(u),e)}return r}function Wa(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function qa(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Ua(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Na(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var u=e[n];t(u,n,e)&&(o[i++]=u)}return o}function Ha(e,t){return!!(null==e?0:e.length)&&-1<Ja(e,t,0)}function Va(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function $a(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Qa(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Ka(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function Ya(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Ga(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var P=rf("length");function Za(e,r,t){var i;return t(e,function(e,t,n){if(r(e,t,n))return i=t,!1}),i}function Xa(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Ja(e,t,n){return t==t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Xa(e,tf,n)}function ef(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function tf(e){return e!=e}function nf(e,t){var n=null==e?0:e.length;return n?uf(e,t)/n:lu}function rf(t){return function(e){return null==e?ou:e[t]}}function W(t){return function(e){return null==t?ou:t[e]}}function of(e,r,i,o,t){return t(e,function(e,t,n){i=o?(o=!1,e):r(i,e,t,n)}),i}function uf(e,t){for(var n,r=-1,i=e.length;++r<i;){var o=t(e[r]);o!==ou&&(n=n===ou?o:n+o)}return n}function af(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function ff(t){return function(e){return t(e)}}function cf(t,e){return $a(e,function(e){return t[e]})}function sf(e,t){return e.has(t)}function lf(e,t){for(var n=-1,r=e.length;++n<r&&-1<Ja(t,e[n],0););return n}function hf(e,t){for(var n=e.length;n--&&-1<Ja(t,e[n],0););return n}var pf=W({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),df=W({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function vf(e){return"\\"+O[e]}function gf(e){return M.test(e)}function mf(e){var n=-1,r=Array(e.size);return e.forEach(function(e,t){r[++n]=[t,e]}),r}function yf(t,n){return function(e){return t(n(e))}}function bf(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var u=e[n];u!==t&&u!==fu||(e[n]=fu,o[i++]=n)}return o}function _f(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function xf(e){return(gf(e)?function(e){var t=D.lastIndex=0;for(;D.test(e);)++t;return t}:P)(e)}function wf(e){return gf(e)?e.match(D)||[]:e.split("")}var Af=W({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var kf=function e(t){var n,E=(t=null==t?Da:kf.defaults(Da.Object(),t,kf.pick(Da,ka))).Array,r=t.Date,i=t.Error,g=t.Function,o=t.Math,x=t.Object,m=t.RegExp,s=t.String,b=t.TypeError,u=E.prototype,a=g.prototype,l=x.prototype,f=t["__core-js_shared__"],c=a.toString,w=l.hasOwnProperty,h=0,p=(n=/[^.]+$/.exec(f&&f.keys&&f.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",d=l.toString,v=c.call(x),y=Da._,_=m("^"+c.call(w).replace(ea,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),A=Ma?t.Buffer:ou,k=t.Symbol,j=t.Uint8Array,C=A?A.allocUnsafe:ou,S=yf(x.getPrototypeOf,x),T=x.create,D=l.propertyIsEnumerable,M=u.splice,O=k?k.isConcatSpreadable:ou,z=k?k.iterator:ou,F=k?k.toStringTag:ou,L=function(){try{var e=Nn(x,"defineProperty");return e({},"",{}),e}catch(e){}}(),I=t.clearTimeout!==Da.clearTimeout&&t.clearTimeout,B=r&&r.now!==Da.Date.now&&r.now,R=t.setTimeout!==Da.setTimeout&&t.setTimeout,P=o.ceil,W=o.floor,q=x.getOwnPropertySymbols,U=A?A.isBuffer:ou,N=t.isFinite,H=u.join,V=yf(x.keys,x),$=o.max,Q=o.min,K=r.now,Y=t.parseInt,G=o.random,Z=u.reverse,X=Nn(t,"DataView"),J=Nn(t,"Map"),ee=Nn(t,"Promise"),te=Nn(t,"Set"),ne=Nn(t,"WeakMap"),re=Nn(x,"create"),ie=ne&&new ne,oe={},ue=mr(X),ae=mr(J),fe=mr(ee),ce=mr(te),se=mr(ne),le=k?k.prototype:ou,he=le?le.valueOf:ou,pe=le?le.toString:ou;function de(e){if(Fi(e)&&!Ai(e)&&!(e instanceof be)){if(e instanceof ye)return e;if(w.call(e,"__wrapped__"))return yr(e)}return new ye(e)}var ve=function(e){if(!zi(e))return{};if(T)return T(e);ge.prototype=e;var t=new ge;return ge.prototype=ou,t};function ge(){}function me(){}function ye(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=ou}function be(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=hu,this.__views__=[]}function _e(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function xe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function we(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ae(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new we;++t<n;)this.add(e[t])}function ke(e){var t=this.__data__=new xe(e);this.size=t.size}function Ee(e,t){var n=Ai(e),r=!n&&wi(e),i=!n&&!r&&Ci(e),o=!n&&!r&&!i&&Ui(e),u=n||r||i||o,a=u?af(e.length,s):[],f=a.length;for(var c in e)!t&&!w.call(e,c)||u&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Gn(c,f))||a.push(c);return a}function je(e){var t=e.length;return t?e[At(0,t-1)]:ou}function Ce(e,t){return hr(on(e),Ie(t,0,e.length))}function Se(e){return hr(on(e))}function Te(e,t,n){(n===ou||bi(e[t],n))&&(n!==ou||t in e)||Fe(e,t,n)}function De(e,t,n){var r=e[t];w.call(e,t)&&bi(r,n)&&(n!==ou||t in e)||Fe(e,t,n)}function Me(e,t){for(var n=e.length;n--;)if(bi(e[n][0],t))return n;return-1}function Oe(e,r,i,o){return qe(e,function(e,t,n){r(o,e,i(e),n)}),o}function ze(e,t){return e&&un(t,so(t),e)}function Fe(e,t,n){"__proto__"==t&&L?L(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Le(e,t){for(var n=-1,r=t.length,i=E(r),o=null==e;++n<r;)i[n]=o?ou:oo(e,t[n]);return i}function Ie(e,t,n){return e==e&&(n!==ou&&(e=e<=n?e:n),t!==ou&&(e=t<=e?e:t)),e}function Be(n,r,i,e,t,o){var u,a=1&r,f=2&r,c=4&r;if(i&&(u=t?i(n,e,t,o):i(n)),u!==ou)return u;if(!zi(n))return n;var s,l,h,p,d,v,g=Ai(n);if(g){if(u=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&w.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(n),!a)return on(n,u)}else{var m=$n(n),y=m==bu||m==_u;if(Ci(n))return Xt(n,a);if(m==Au||m==du||y&&!t){if(u=f||y?{}:Kn(n),!a)return f?(v=h=n,p=(d=u)&&un(v,lo(v),d),un(h,Vn(h),p)):(l=ze(u,s=n),un(s,Hn(s),l))}else{if(!Ca[m])return t?n:{};u=function(e,t,n){var r=e.constructor;switch(t){case Du:return Jt(e);case gu:case mu:return new r(+e);case Mu:return function(e,t){var n=t?Jt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case Ou:case zu:case Fu:case Lu:case Iu:case Bu:case Ru:case Pu:case Wu:return en(e,n);case xu:return new r;case wu:case Cu:return new r(e);case Eu:return function(e){var t=new e.constructor(e.source,la.exec(e));return t.lastIndex=e.lastIndex,t}(e);case ju:return new r;case Su:return function(e){return he?x(he.call(e)):{}}(e)}}(n,m,a)}}var b=(o=o||new ke).get(n);if(b)return b;o.set(n,u),Pi(n)?n.forEach(function(e){u.add(Be(e,r,i,e,n,o))}):Li(n)&&n.forEach(function(e,t){u.set(t,Be(e,r,i,t,n,o))});var _=g?ou:(c?f?In:Ln:f?lo:so)(n);return Wa(_||n,function(e,t){_&&(e=n[t=e]),De(u,t,Be(e,r,i,t,n,o))}),u}function Re(e,t,n){var r=n.length;if(null==e)return!r;for(e=x(e);r--;){var i=n[r],o=t[i],u=e[i];if(u===ou&&!(i in e)||!o(u))return!1}return!0}function Pe(e,t,n){if("function"!=typeof e)throw new b(uu);return fr(function(){e.apply(ou,n)},t)}function We(e,t,n,r){var i=-1,o=Ha,u=!0,a=e.length,f=[],c=t.length;if(!a)return f;n&&(t=$a(t,ff(n))),r?(o=Va,u=!1):200<=t.length&&(o=sf,u=!1,t=new Ae(t));e:for(;++i<a;){var s=e[i],l=null==n?s:n(s);if(s=r||0!==s?s:0,u&&l==l){for(var h=c;h--;)if(t[h]===l)continue e;f.push(s)}else o(t,l,r)||f.push(s)}return f}de.templateSettings={escape:Ku,evaluate:Yu,interpolate:Gu,variable:"",imports:{_:de}},(de.prototype=me.prototype).constructor=de,(ye.prototype=ve(me.prototype)).constructor=ye,(be.prototype=ve(me.prototype)).constructor=be,_e.prototype.clear=function(){this.__data__=re?re(null):{},this.size=0},_e.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},_e.prototype.get=function(e){var t=this.__data__;if(re){var n=t[e];return n===au?ou:n}return w.call(t,e)?t[e]:ou},_e.prototype.has=function(e){var t=this.__data__;return re?t[e]!==ou:w.call(t,e)},_e.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=re&&t===ou?au:t,this},xe.prototype.clear=function(){this.__data__=[],this.size=0},xe.prototype.delete=function(e){var t=this.__data__,n=Me(t,e);return!(n<0)&&(n==t.length-1?t.pop():M.call(t,n,1),--this.size,!0)},xe.prototype.get=function(e){var t=this.__data__,n=Me(t,e);return n<0?ou:t[n][1]},xe.prototype.has=function(e){return-1<Me(this.__data__,e)},xe.prototype.set=function(e,t){var n=this.__data__,r=Me(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},we.prototype.clear=function(){this.size=0,this.__data__={hash:new _e,map:new(J||xe),string:new _e}},we.prototype.delete=function(e){var t=qn(this,e).delete(e);return this.size-=t?1:0,t},we.prototype.get=function(e){return qn(this,e).get(e)},we.prototype.has=function(e){return qn(this,e).has(e)},we.prototype.set=function(e,t){var n=qn(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Ae.prototype.add=Ae.prototype.push=function(e){return this.__data__.set(e,au),this},Ae.prototype.has=function(e){return this.__data__.has(e)},ke.prototype.clear=function(){this.__data__=new xe,this.size=0},ke.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ke.prototype.get=function(e){return this.__data__.get(e)},ke.prototype.has=function(e){return this.__data__.has(e)},ke.prototype.set=function(e,t){var n=this.__data__;if(n instanceof xe){var r=n.__data__;if(!J||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new we(r)}return n.set(e,t),this.size=n.size,this};var qe=cn(Ye),Ue=cn(Ge,!0);function Ne(e,r){var i=!0;return qe(e,function(e,t,n){return i=!!r(e,t,n)}),i}function He(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],u=t(o);if(null!=u&&(a===ou?u==u&&!qi(u):n(u,a)))var a=u,f=o}return f}function Ve(e,r){var i=[];return qe(e,function(e,t,n){r(e,t,n)&&i.push(e)}),i}function $e(e,t,n,r,i){var o=-1,u=e.length;for(n=n||Yn,i=i||[];++o<u;){var a=e[o];0<t&&n(a)?1<t?$e(a,t-1,n,r,i):Qa(i,a):r||(i[i.length]=a)}return i}var Qe=sn(),Ke=sn(!0);function Ye(e,t){return e&&Qe(e,t,so)}function Ge(e,t){return e&&Ke(e,t,so)}function Ze(t,e){return Na(e,function(e){return Di(t[e])})}function Xe(e,t){for(var n=0,r=(t=Kt(t,e)).length;null!=e&&n<r;)e=e[gr(t[n++])];return n&&n==r?e:ou}function Je(e,t,n){var r=t(e);return Ai(e)?r:Qa(r,n(e))}function et(e){return null==e?e===ou?"[object Undefined]":"[object Null]":F&&F in x(e)?function(e){var t=w.call(e,F),n=e[F];try{e[F]=ou;var r=!0}catch(e){}var i=d.call(e);r&&(t?e[F]=n:delete e[F]);return i}(e):(t=e,d.call(t));var t}function tt(e,t){return t<e}function nt(e,t){return null!=e&&w.call(e,t)}function rt(e,t){return null!=e&&t in x(e)}function it(e,t,n){for(var r=n?Va:Ha,i=e[0].length,o=e.length,u=o,a=E(o),f=1/0,c=[];u--;){var s=e[u];u&&t&&(s=$a(s,ff(t))),f=Q(s.length,f),a[u]=!n&&(t||120<=i&&120<=s.length)?new Ae(u&&s):ou}s=e[0];var l=-1,h=a[0];e:for(;++l<i&&c.length<f;){var p=s[l],d=t?t(p):p;if(p=n||0!==p?p:0,!(h?sf(h,d):r(c,d,n))){for(u=o;--u;){var v=a[u];if(!(v?sf(v,d):r(e[u],d,n)))continue e}h&&h.push(d),c.push(p)}}return c}function ot(e,t,n){var r=null==(e=or(e,t=Kt(t,e)))?e:e[gr(Tr(t))];return null==r?ou:Ra(r,e,n)}function ut(e){return Fi(e)&&et(e)==du}function at(e,t,n,r,i){return e===t||(null==e||null==t||!Fi(e)&&!Fi(t)?e!=e&&t!=t:function(e,t,n,r,i,o){var u=Ai(e),a=Ai(t),f=u?vu:$n(e),c=a?vu:$n(t),s=(f=f==du?Au:f)==Au,l=(c=c==du?Au:c)==Au,h=f==c;if(h&&Ci(e)){if(!Ci(t))return!1;s=!(u=!0)}if(h&&!s)return o=o||new ke,u||Ui(e)?zn(e,t,n,r,i,o):function(e,t,n,r,i,o,u){switch(n){case Mu:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Du:return!(e.byteLength!=t.byteLength||!o(new j(e),new j(t)));case gu:case mu:case wu:return bi(+e,+t);case yu:return e.name==t.name&&e.message==t.message;case Eu:case Cu:return e==t+"";case xu:var a=mf;case ju:var f=1&r;if(a=a||_f,e.size!=t.size&&!f)return!1;var c=u.get(e);if(c)return c==t;r|=2,u.set(e,t);var s=zn(a(e),a(t),r,i,o,u);return u.delete(e),s;case Su:if(he)return he.call(e)==he.call(t)}return!1}(e,t,f,n,r,i,o);if(!(1&n)){var p=s&&w.call(e,"__wrapped__"),d=l&&w.call(t,"__wrapped__");if(p||d){var v=p?e.value():e,g=d?t.value():t;return o=o||new ke,i(v,g,n,r,o)}}return h&&(o=o||new ke,function(e,t,n,r,i,o){var u=1&n,a=Ln(e),f=a.length,c=Ln(t).length;if(f!=c&&!u)return!1;var s=f;for(;s--;){var l=a[s];if(!(u?l in t:w.call(t,l)))return!1}var h=o.get(e);if(h&&o.get(t))return h==t;var p=!0;o.set(e,t),o.set(t,e);var d=u;for(;++s<f;){l=a[s];var v=e[l],g=t[l];if(r)var m=u?r(g,v,l,t,e,o):r(v,g,l,e,t,o);if(!(m===ou?v===g||i(v,g,n,r,o):m)){p=!1;break}d=d||"constructor"==l}if(p&&!d){var y=e.constructor,b=t.constructor;y!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b)&&(p=!1)}return o.delete(e),o.delete(t),p}(e,t,n,r,i,o))}(e,t,n,r,at,i))}function ft(e,t,n,r){var i=n.length,o=i,u=!r;if(null==e)return!o;for(e=x(e);i--;){var a=n[i];if(u&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<o;){var f=(a=n[i])[0],c=e[f],s=a[1];if(u&&a[2]){if(c===ou&&!(f in e))return!1}else{var l=new ke;if(r)var h=r(c,s,f,e,t,l);if(!(h===ou?at(s,c,3,r,l):h))return!1}}return!0}function ct(e){return!(!zi(e)||(t=e,p&&p in t))&&(Di(e)?_:da).test(mr(e));var t}function st(e){return"function"==typeof e?e:null==e?Bo:"object"==typeof e?Ai(e)?gt(e[0],e[1]):vt(e):$o(e)}function lt(e){if(!tr(e))return V(e);var t=[];for(var n in x(e))w.call(e,n)&&"constructor"!=n&&t.push(n);return t}function ht(e){if(!zi(e))return function(e){var t=[];if(null!=e)for(var n in x(e))t.push(n);return t}(e);var t=tr(e),n=[];for(var r in e)("constructor"!=r||!t&&w.call(e,r))&&n.push(r);return n}function pt(e,t){return e<t}function dt(e,r){var i=-1,o=Ei(e)?E(e.length):[];return qe(e,function(e,t,n){o[++i]=r(e,t,n)}),o}function vt(t){var n=Un(t);return 1==n.length&&n[0][2]?rr(n[0][0],n[0][1]):function(e){return e===t||ft(e,t,n)}}function gt(n,r){return Xn(n)&&nr(r)?rr(gr(n),r):function(e){var t=oo(e,n);return t===ou&&t===r?uo(e,n):at(r,t,3)}}function mt(r,i,o,u,a){r!==i&&Qe(i,function(e,t){if(a=a||new ke,zi(e))!function(e,t,n,r,i,o,u){var a=ur(e,n),f=ur(t,n),c=u.get(f);if(c)return Te(e,n,c);var s=o?o(a,f,n+"",e,t,u):ou,l=s===ou;if(l){var h=Ai(f),p=!h&&Ci(f),d=!h&&!p&&Ui(f);s=f,h||p||d?s=Ai(a)?a:ji(a)?on(a):p?Xt(f,!(l=!1)):d?en(f,!(l=!1)):[]:Bi(f)||wi(f)?wi(s=a)?s=Gi(a):zi(a)&&!Di(a)||(s=Kn(f)):l=!1}l&&(u.set(f,s),i(s,f,r,o,u),u.delete(f));Te(e,n,s)}(r,i,t,o,mt,u,a);else{var n=u?u(ur(r,t),e,t+"",r,i,a):ou;n===ou&&(n=e),Te(r,t,n)}},lo)}function yt(e,t){var n=e.length;if(n)return Gn(t+=t<0?n:0,n)?e[t]:ou}function bt(e,r,n){var i=-1;return r=$a(r.length?r:[Bo],ff(Wn())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(dt(e,function(t,e,n){return{criteria:$a(r,function(e){return e(t)}),index:++i,value:t}}),function(e,t){return function(e,t,n){var r=-1,i=e.criteria,o=t.criteria,u=i.length,a=n.length;for(;++r<u;){var f=tn(i[r],o[r]);if(f){if(a<=r)return f;var c=n[r];return f*("desc"==c?-1:1)}}return e.index-t.index}(e,t,n)})}function _t(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var u=t[r],a=Xe(e,u);n(a,u)&&St(o,Kt(u,e),a)}return o}function xt(e,t,n,r){var i=r?ef:Ja,o=-1,u=t.length,a=e;for(e===t&&(t=on(t)),n&&(a=$a(e,ff(n)));++o<u;)for(var f=0,c=t[o],s=n?n(c):c;-1<(f=i(a,s,f,r));)a!==e&&M.call(a,f,1),M.call(e,f,1);return e}function wt(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;Gn(i)?M.call(e,i,1):Wt(e,i)}}return e}function At(e,t){return e+W(G()*(t-e+1))}function kt(e,t){var n="";if(!e||t<1||su<t)return n;for(;t%2&&(n+=e),(t=W(t/2))&&(e+=e),t;);return n}function Et(e,t){return cr(ir(e,t,Bo),e+"")}function jt(e){return je(_o(e))}function Ct(e,t){var n=_o(e);return hr(n,Ie(t,0,n.length))}function St(e,t,n,r){if(!zi(e))return e;for(var i=-1,o=(t=Kt(t,e)).length,u=o-1,a=e;null!=a&&++i<o;){var f=gr(t[i]),c=n;if(i!=u){var s=a[f];(c=r?r(s,f,a):ou)===ou&&(c=zi(s)?s:Gn(t[i+1])?[]:{})}De(a,f,c),a=a[f]}return e}var Tt=ie?function(e,t){return ie.set(e,t),e}:Bo,Dt=L?function(e,t){return L(e,"toString",{configurable:!0,enumerable:!1,value:Fo(t),writable:!0})}:Bo;function Mt(e){return hr(_o(e))}function Ot(e,t,n){var r=-1,i=e.length;t<0&&(t=i<-t?0:i+t),(n=i<n?i:n)<0&&(n+=i),i=n<t?0:n-t>>>0,t>>>=0;for(var o=E(i);++r<i;)o[r]=e[r+t];return o}function zt(e,r){var i;return qe(e,function(e,t,n){return!(i=r(e,t,n))}),!!i}function Ft(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,u=e[o];null!==u&&!qi(u)&&(n?u<=t:u<t)?r=1+o:i=o}return i}return Lt(e,t,Bo,n)}function Lt(e,t,n,r){t=n(t);for(var i=0,o=null==e?0:e.length,u=t!=t,a=null===t,f=qi(t),c=t===ou;i<o;){var s=W((i+o)/2),l=n(e[s]),h=l!==ou,p=null===l,d=l==l,v=qi(l);if(u)var g=r||d;else g=c?d&&(r||h):a?d&&h&&(r||!p):f?d&&h&&!p&&(r||!v):!p&&!v&&(r?l<=t:l<t);g?i=s+1:o=s}return Q(o,4294967294)}function It(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var u=e[n],a=t?t(u):u;if(!n||!bi(a,f)){var f=a;o[i++]=0===u?0:u}}return o}function Bt(e){return"number"==typeof e?e:qi(e)?lu:+e}function Rt(e){if("string"==typeof e)return e;if(Ai(e))return $a(e,Rt)+"";if(qi(e))return pe?pe.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Pt(e,t,n){var r=-1,i=Ha,o=e.length,u=!0,a=[],f=a;if(n)u=!1,i=Va;else if(200<=o){var c=t?null:Cn(e);if(c)return _f(c);u=!1,i=sf,f=new Ae}else f=t?[]:a;e:for(;++r<o;){var s=e[r],l=t?t(s):s;if(s=n||0!==s?s:0,u&&l==l){for(var h=f.length;h--;)if(f[h]===l)continue e;t&&f.push(l),a.push(s)}else i(f,l,n)||(f!==a&&f.push(l),a.push(s))}return a}function Wt(e,t){return null==(e=or(e,t=Kt(t,e)))||delete e[gr(Tr(t))]}function qt(e,t,n,r){return St(e,t,n(Xe(e,t)),r)}function Ut(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?Ot(e,r?0:o,r?o+1:i):Ot(e,r?o+1:0,r?i:o)}function Nt(e,t){var n=e;return n instanceof be&&(n=n.value()),Ka(t,function(e,t){return t.func.apply(t.thisArg,Qa([e],t.args))},n)}function Ht(e,t,n){var r=e.length;if(r<2)return r?Pt(e[0]):[];for(var i=-1,o=E(r);++i<r;)for(var u=e[i],a=-1;++a<r;)a!=i&&(o[i]=We(o[i]||u,e[a],t,n));return Pt($e(o,1),t,n)}function Vt(e,t,n){for(var r=-1,i=e.length,o=t.length,u={};++r<i;){var a=r<o?t[r]:ou;n(u,e[r],a)}return u}function $t(e){return ji(e)?e:[]}function Qt(e){return"function"==typeof e?e:Bo}function Kt(e,t){return Ai(e)?e:Xn(e,t)?[e]:vr(Zi(e))}var Yt=Et;function Gt(e,t,n){var r=e.length;return n=n===ou?r:n,!t&&r<=n?e:Ot(e,t,n)}var Zt=I||function(e){return Da.clearTimeout(e)};function Xt(e,t){if(t)return e.slice();var n=e.length,r=C?C(n):new e.constructor(n);return e.copy(r),r}function Jt(e){var t=new e.constructor(e.byteLength);return new j(t).set(new j(e)),t}function en(e,t){var n=t?Jt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function tn(e,t){if(e!==t){var n=e!==ou,r=null===e,i=e==e,o=qi(e),u=t!==ou,a=null===t,f=t==t,c=qi(t);if(!a&&!c&&!o&&t<e||o&&u&&f&&!a&&!c||r&&u&&f||!n&&f||!i)return 1;if(!r&&!o&&!c&&e<t||c&&n&&i&&!r&&!o||a&&n&&i||!u&&i||!f)return-1}return 0}function nn(e,t,n,r){for(var i=-1,o=e.length,u=n.length,a=-1,f=t.length,c=$(o-u,0),s=E(f+c),l=!r;++a<f;)s[a]=t[a];for(;++i<u;)(l||i<o)&&(s[n[i]]=e[i]);for(;c--;)s[a++]=e[i++];return s}function rn(e,t,n,r){for(var i=-1,o=e.length,u=-1,a=n.length,f=-1,c=t.length,s=$(o-a,0),l=E(s+c),h=!r;++i<s;)l[i]=e[i];for(var p=i;++f<c;)l[p+f]=t[f];for(;++u<a;)(h||i<o)&&(l[p+n[u]]=e[i++]);return l}function on(e,t){var n=-1,r=e.length;for(t=t||E(r);++n<r;)t[n]=e[n];return t}function un(e,t,n,r){var i=!n;n=n||{};for(var o=-1,u=t.length;++o<u;){var a=t[o],f=r?r(n[a],e[a],a,n,e):ou;f===ou&&(f=e[a]),(i?Fe:De)(n,a,f)}return n}function an(i,o){return function(e,t){var n=Ai(e)?Pa:Oe,r=o?o():{};return n(e,i,Wn(t,2),r)}}function fn(a){return Et(function(e,t){var n=-1,r=t.length,i=1<r?t[r-1]:ou,o=2<r?t[2]:ou;for(i=3<a.length&&"function"==typeof i?(r--,i):ou,o&&Zn(t[0],t[1],o)&&(i=r<3?ou:i,r=1),e=x(e);++n<r;){var u=t[n];u&&a(e,u,n,i)}return e})}function cn(o,u){return function(e,t){if(null==e)return e;if(!Ei(e))return o(e,t);for(var n=e.length,r=u?n:-1,i=x(e);(u?r--:++r<n)&&!1!==t(i[r],r,i););return e}}function sn(f){return function(e,t,n){for(var r=-1,i=x(e),o=n(e),u=o.length;u--;){var a=o[f?u:++r];if(!1===t(i[a],a,i))break}return e}}function ln(i){return function(e){var t=gf(e=Zi(e))?wf(e):ou,n=t?t[0]:e.charAt(0),r=t?Gt(t,1).join(""):e.slice(1);return n[i]()+r}}function hn(t){return function(e){return Ka(Mo(Ao(e).replace(_a,"")),t,"")}}function pn(r){return function(){var e=arguments;switch(e.length){case 0:return new r;case 1:return new r(e[0]);case 2:return new r(e[0],e[1]);case 3:return new r(e[0],e[1],e[2]);case 4:return new r(e[0],e[1],e[2],e[3]);case 5:return new r(e[0],e[1],e[2],e[3],e[4]);case 6:return new r(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new r(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var t=ve(r.prototype),n=r.apply(t,e);return zi(n)?n:t}}function dn(u,a,f){var c=pn(u);return function e(){for(var t=arguments.length,n=E(t),r=t,i=Pn(e);r--;)n[r]=arguments[r];var o=t<3&&n[0]!==i&&n[t-1]!==i?[]:bf(n,i);return(t-=o.length)<f?En(u,a,mn,e.placeholder,ou,n,o,ou,ou,f-t):Ra(this&&this!==Da&&this instanceof e?c:u,this,n)}}function vn(u){return function(e,t,n){var r=x(e);if(!Ei(e)){var i=Wn(t,3);e=so(e),t=function(e){return i(r[e],e,r)}}var o=u(e,t,n);return-1<o?r[i?e[o]:o]:ou}}function gn(f){return Fn(function(i){var o=i.length,e=o,t=ye.prototype.thru;for(f&&i.reverse();e--;){var n=i[e];if("function"!=typeof n)throw new b(uu);if(t&&!u&&"wrapper"==Rn(n))var u=new ye([],!0)}for(e=u?e:o;++e<o;){var r=Rn(n=i[e]),a="wrapper"==r?Bn(n):ou;u=a&&Jn(a[0])&&424==a[1]&&!a[4].length&&1==a[9]?u[Rn(a[0])].apply(u,a[3]):1==n.length&&Jn(n)?u[r]():u.thru(n)}return function(){var e=arguments,t=e[0];if(u&&1==e.length&&Ai(t))return u.plant(t).value();for(var n=0,r=o?i[n].apply(this,e):t;++n<o;)r=i[n].call(this,r);return r}})}function mn(c,s,l,h,p,d,v,g,m,y){var b=s&cu,_=1&s,x=2&s,w=24&s,A=512&s,k=x?ou:pn(c);return function e(){for(var t=arguments.length,n=E(t),r=t;r--;)n[r]=arguments[r];if(w)var i=Pn(e),o=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(n,i);if(h&&(n=nn(n,h,p,w)),d&&(n=rn(n,d,v,w)),t-=o,w&&t<y){var u=bf(n,i);return En(c,s,mn,e.placeholder,l,n,u,g,m,y-t)}var a=_?l:this,f=x?a[c]:c;return t=n.length,g?n=function(e,t){for(var n=e.length,r=Q(t.length,n),i=on(e);r--;){var o=t[r];e[r]=Gn(o,n)?i[o]:ou}return e}(n,g):A&&1<t&&n.reverse(),b&&m<t&&(n.length=m),this&&this!==Da&&this instanceof e&&(f=k||pn(f)),f.apply(a,n)}}function yn(u,a){return function(e,t){return n=e,r=u,i=a(t),o={},Ye(n,function(e,t,n){r(o,i(e),t,n)}),o;var n,r,i,o}}function bn(r,i){return function(e,t){var n;if(e===ou&&t===ou)return i;if(e!==ou&&(n=e),t!==ou){if(n===ou)return t;t="string"==typeof e||"string"==typeof t?(e=Rt(e),Rt(t)):(e=Bt(e),Bt(t)),n=r(e,t)}return n}}function _n(r){return Fn(function(e){return e=$a(e,ff(Wn())),Et(function(t){var n=this;return r(e,function(e){return Ra(e,n,t)})})})}function xn(e,t){var n=(t=t===ou?" ":Rt(t)).length;if(n<2)return n?kt(t,e):t;var r=kt(t,P(e/xf(t)));return gf(t)?Gt(wf(r),0,e).join(""):r.slice(0,e)}function wn(a,e,f,c){var s=1&e,l=pn(a);return function e(){for(var t=-1,n=arguments.length,r=-1,i=c.length,o=E(i+n),u=this&&this!==Da&&this instanceof e?l:a;++r<i;)o[r]=c[r];for(;n--;)o[r++]=arguments[++t];return Ra(u,s?f:this,o)}}function An(r){return function(e,t,n){return n&&"number"!=typeof n&&Zn(e,t,n)&&(t=n=ou),e=$i(e),t===ou?(t=e,e=0):t=$i(t),function(e,t,n,r){for(var i=-1,o=$(P((t-e)/(n||1)),0),u=E(o);o--;)u[r?o:++i]=e,e+=n;return u}(e,t,n=n===ou?e<t?1:-1:$i(n),r)}}function kn(n){return function(e,t){return"string"==typeof e&&"string"==typeof t||(e=Yi(e),t=Yi(t)),n(e,t)}}function En(e,t,n,r,i,o,u,a,f,c){var s=8&t;t|=s?32:64,4&(t&=~(s?64:32))||(t&=-4);var l=[e,t,i,s?o:ou,s?u:ou,s?ou:o,s?ou:u,a,f,c],h=n.apply(ou,l);return Jn(e)&&ar(h,l),h.placeholder=r,sr(h,e,t)}function jn(e){var r=o[e];return function(e,t){if(e=Yi(e),(t=null==t?0:Q(Qi(t),292))&&N(e)){var n=(Zi(e)+"e").split("e");return+((n=(Zi(r(n[0]+"e"+(+n[1]+t)))+"e").split("e"))[0]+"e"+(n[1]-t))}return r(e)}}var Cn=te&&1/_f(new te([,-0]))[1]==1/0?function(e){return new te(e)}:Uo;function Sn(u){return function(e){var t,n,r,i,o=$n(e);return o==xu?mf(e):o==ju?(t=e,n=-1,r=Array(t.size),t.forEach(function(e){r[++n]=[e,e]}),r):$a(u(i=e),function(e){return[e,i[e]]})}}function Tn(e,t,n,r,i,o,u,a){var f=2&t;if(!f&&"function"!=typeof e)throw new b(uu);var c=r?r.length:0;if(c||(t&=-97,r=i=ou),u=u===ou?u:$(Qi(u),0),a=a===ou?a:Qi(a),c-=i?i.length:0,64&t){var s=r,l=i;r=i=ou}var h,p,d,v,g=f?ou:Bn(e),m=[e,t,n,r,i,s,l,o,u,a];if(g&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,u=r==cu&&8==n||r==cu&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!u)return;1&r&&(e[2]=t[2],i|=1&n?0:4);var a=t[3];if(a){var f=e[3];e[3]=f?nn(f,a,t[4]):a,e[4]=f?bf(e[3],fu):t[4]}(a=t[5])&&(f=e[5],e[5]=f?rn(f,a,t[6]):a,e[6]=f?bf(e[5],fu):t[6]);(a=t[7])&&(e[7]=a);r&cu&&(e[8]=null==e[8]?t[8]:Q(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(m,g),e=m[0],t=m[1],n=m[2],r=m[3],i=m[4],!(a=m[9]=m[9]===ou?f?0:e.length:$(m[9]-c,0))&&24&t&&(t&=-25),t&&1!=t)y=8==t||16==t?dn(e,t,a):32!=t&&33!=t||i.length?mn.apply(ou,m):wn(e,t,n,r);else var y=(p=n,d=1&t,v=pn(h=e),function e(){return(this&&this!==Da&&this instanceof e?v:h).apply(d?p:this,arguments)});return sr((g?Tt:ar)(y,m),e,t)}function Dn(e,t,n,r){return e===ou||bi(e,l[n])&&!w.call(r,n)?t:e}function Mn(e,t,n,r,i,o){return zi(e)&&zi(t)&&(o.set(t,e),mt(e,t,ou,Mn,o),o.delete(t)),e}function On(e){return Bi(e)?ou:e}function zn(e,t,n,r,i,o){var u=1&n,a=e.length,f=t.length;if(a!=f&&!(u&&a<f))return!1;var c=o.get(e);if(c&&o.get(t))return c==t;var s=-1,l=!0,h=2&n?new Ae:ou;for(o.set(e,t),o.set(t,e);++s<a;){var p=e[s],d=t[s];if(r)var v=u?r(d,p,s,t,e,o):r(p,d,s,e,t,o);if(v!==ou){if(v)continue;l=!1;break}if(h){if(!Ga(t,function(e,t){if(!sf(h,t)&&(p===e||i(p,e,n,r,o)))return h.push(t)})){l=!1;break}}else if(p!==d&&!i(p,d,n,r,o)){l=!1;break}}return o.delete(e),o.delete(t),l}function Fn(e){return cr(ir(e,ou,kr),e+"")}function Ln(e){return Je(e,so,Hn)}function In(e){return Je(e,lo,Vn)}var Bn=ie?function(e){return ie.get(e)}:Uo;function Rn(e){for(var t=e.name+"",n=oe[t],r=w.call(oe,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function Pn(e){return(w.call(de,"placeholder")?de:e).placeholder}function Wn(){var e=de.iteratee||Ro;return e=e===Ro?st:e,arguments.length?e(arguments[0],arguments[1]):e}function qn(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Un(e){for(var t=so(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,nr(i)]}return t}function Nn(e,t){var n,r,i=(r=t,null==(n=e)?ou:n[r]);return ct(i)?i:ou}var Hn=q?function(t){return null==t?[]:(t=x(t),Na(q(t),function(e){return D.call(t,e)}))}:Yo,Vn=q?function(e){for(var t=[];e;)Qa(t,Hn(e)),e=S(e);return t}:Yo,$n=et;function Qn(e,t,n){for(var r=-1,i=(t=Kt(t,e)).length,o=!1;++r<i;){var u=gr(t[r]);if(!(o=null!=e&&n(e,u)))break;e=e[u]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Oi(i)&&Gn(u,i)&&(Ai(e)||wi(e))}function Kn(e){return"function"!=typeof e.constructor||tr(e)?{}:ve(S(e))}function Yn(e){return Ai(e)||wi(e)||!!(O&&e&&e[O])}function Gn(e,t){var n=typeof e;return!!(t=null==t?su:t)&&("number"==n||"symbol"!=n&&ga.test(e))&&-1<e&&e%1==0&&e<t}function Zn(e,t,n){if(!zi(n))return!1;var r=typeof t;return!!("number"==r?Ei(n)&&Gn(t,n.length):"string"==r&&t in n)&&bi(n[t],e)}function Xn(e,t){if(Ai(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!qi(e))||(Xu.test(e)||!Zu.test(e)||null!=t&&e in x(t))}function Jn(e){var t=Rn(e),n=de[t];if("function"!=typeof n||!(t in be.prototype))return!1;if(e===n)return!0;var r=Bn(n);return!!r&&e===r[0]}(X&&$n(new X(new ArrayBuffer(1)))!=Mu||J&&$n(new J)!=xu||ee&&$n(ee.resolve())!=ku||te&&$n(new te)!=ju||ne&&$n(new ne)!=Tu)&&($n=function(e){var t=et(e),n=t==Au?e.constructor:ou,r=n?mr(n):"";if(r)switch(r){case ue:return Mu;case ae:return xu;case fe:return ku;case ce:return ju;case se:return Tu}return t});var er=f?Di:Go;function tr(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||l)}function nr(e){return e==e&&!zi(e)}function rr(t,n){return function(e){return null!=e&&(e[t]===n&&(n!==ou||t in x(e)))}}function ir(o,u,a){return u=$(u===ou?o.length-1:u,0),function(){for(var e=arguments,t=-1,n=$(e.length-u,0),r=E(n);++t<n;)r[t]=e[u+t];t=-1;for(var i=E(u+1);++t<u;)i[t]=e[t];return i[u]=a(r),Ra(o,this,i)}}function or(e,t){return t.length<2?e:Xe(e,Ot(t,0,-1))}function ur(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var ar=lr(Tt),fr=R||function(e,t){return Da.setTimeout(e,t)},cr=lr(Dt);function sr(e,t,n){var r,i,o,u=t+"";return cr(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(1<n?"& ":"")+t[r],t=t.join(2<n?", ":" "),e.replace(oa,"{\n/* [wrapped with "+t+"] */\n")}(u,(o=u.match(ua),r=o?o[1].split(aa):[],i=n,Wa(pu,function(e){var t="_."+e[0];i&e[1]&&!Ha(r,t)&&r.push(t)}),r.sort())))}function lr(n){var r=0,i=0;return function(){var e=K(),t=16-(e-i);if(i=e,0<t){if(800<=++r)return arguments[0]}else r=0;return n.apply(ou,arguments)}}function hr(e,t){var n=-1,r=e.length,i=r-1;for(t=t===ou?r:t;++n<t;){var o=At(n,i),u=e[o];e[o]=e[n],e[n]=u}return e.length=t,e}var pr,dr,vr=(dr=(pr=pi(function(e){var i=[];return 46===e.charCodeAt(0)&&i.push(""),e.replace(Ju,function(e,t,n,r){i.push(n?r.replace(ca,"$1"):t||e)}),i},function(e){return 500===dr.size&&dr.clear(),e})).cache,pr);function gr(e){if("string"==typeof e||qi(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function mr(e){if(null!=e){try{return c.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function yr(e){if(e instanceof be)return e.clone();var t=new ye(e.__wrapped__,e.__chain__);return t.__actions__=on(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var br=Et(function(e,t){return ji(e)?We(e,$e(t,1,ji,!0)):[]}),_r=Et(function(e,t){var n=Tr(t);return ji(n)&&(n=ou),ji(e)?We(e,$e(t,1,ji,!0),Wn(n,2)):[]}),xr=Et(function(e,t){var n=Tr(t);return ji(n)&&(n=ou),ji(e)?We(e,$e(t,1,ji,!0),ou,n):[]});function wr(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Qi(n);return i<0&&(i=$(r+i,0)),Xa(e,Wn(t,3),i)}function Ar(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==ou&&(i=Qi(n),i=n<0?$(r+i,0):Q(i,r-1)),Xa(e,Wn(t,3),i,!0)}function kr(e){return(null==e?0:e.length)?$e(e,1):[]}function Er(e){return e&&e.length?e[0]:ou}var jr=Et(function(e){var t=$a(e,$t);return t.length&&t[0]===e[0]?it(t):[]}),Cr=Et(function(e){var t=Tr(e),n=$a(e,$t);return t===Tr(n)?t=ou:n.pop(),n.length&&n[0]===e[0]?it(n,Wn(t,2)):[]}),Sr=Et(function(e){var t=Tr(e),n=$a(e,$t);return(t="function"==typeof t?t:ou)&&n.pop(),n.length&&n[0]===e[0]?it(n,ou,t):[]});function Tr(e){var t=null==e?0:e.length;return t?e[t-1]:ou}var Dr=Et(Mr);function Mr(e,t){return e&&e.length&&t&&t.length?xt(e,t):e}var Or=Fn(function(e,t){var n=null==e?0:e.length,r=Le(e,t);return wt(e,$a(t,function(e){return Gn(e,n)?+e:e}).sort(tn)),r});function zr(e){return null==e?e:Z.call(e)}var Fr=Et(function(e){return Pt($e(e,1,ji,!0))}),Lr=Et(function(e){var t=Tr(e);return ji(t)&&(t=ou),Pt($e(e,1,ji,!0),Wn(t,2))}),Ir=Et(function(e){var t=Tr(e);return t="function"==typeof t?t:ou,Pt($e(e,1,ji,!0),ou,t)});function Br(t){if(!t||!t.length)return[];var n=0;return t=Na(t,function(e){if(ji(e))return n=$(e.length,n),!0}),af(n,function(e){return $a(t,rf(e))})}function Rr(e,t){if(!e||!e.length)return[];var n=Br(e);return null==t?n:$a(n,function(e){return Ra(t,ou,e)})}var Pr=Et(function(e,t){return ji(e)?We(e,t):[]}),Wr=Et(function(e){return Ht(Na(e,ji))}),qr=Et(function(e){var t=Tr(e);return ji(t)&&(t=ou),Ht(Na(e,ji),Wn(t,2))}),Ur=Et(function(e){var t=Tr(e);return t="function"==typeof t?t:ou,Ht(Na(e,ji),ou,t)}),Nr=Et(Br);var Hr=Et(function(e){var t=e.length,n=1<t?e[t-1]:ou;return n="function"==typeof n?(e.pop(),n):ou,Rr(e,n)});function Vr(e){var t=de(e);return t.__chain__=!0,t}function $r(e,t){return t(e)}var Qr=Fn(function(t){function e(e){return Le(e,t)}var n=t.length,r=n?t[0]:0,i=this.__wrapped__;return!(1<n||this.__actions__.length)&&i instanceof be&&Gn(r)?((i=i.slice(r,+r+(n?1:0))).__actions__.push({func:$r,args:[e],thisArg:ou}),new ye(i,this.__chain__).thru(function(e){return n&&!e.length&&e.push(ou),e})):this.thru(e)});var Kr=an(function(e,t,n){w.call(e,n)?++e[n]:Fe(e,n,1)});var Yr=vn(wr),Gr=vn(Ar);function Zr(e,t){return(Ai(e)?Wa:qe)(e,Wn(t,3))}function Xr(e,t){return(Ai(e)?qa:Ue)(e,Wn(t,3))}var Jr=an(function(e,t,n){w.call(e,n)?e[n].push(t):Fe(e,n,[t])});var ei=Et(function(e,t,n){var r=-1,i="function"==typeof t,o=Ei(e)?E(e.length):[];return qe(e,function(e){o[++r]=i?Ra(t,e,n):ot(e,t,n)}),o}),ti=an(function(e,t,n){Fe(e,n,t)});function ni(e,t){return(Ai(e)?$a:dt)(e,Wn(t,3))}var ri=an(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});var ii=Et(function(e,t){if(null==e)return[];var n=t.length;return 1<n&&Zn(e,t[0],t[1])?t=[]:2<n&&Zn(t[0],t[1],t[2])&&(t=[t[0]]),bt(e,$e(t,1),[])}),oi=B||function(){return Da.Date.now()};function ui(e,t,n){return t=n?ou:t,t=e&&null==t?e.length:t,Tn(e,cu,ou,ou,ou,ou,t)}function ai(e,t){var n;if("function"!=typeof t)throw new b(uu);return e=Qi(e),function(){return 0<--e&&(n=t.apply(this,arguments)),e<=1&&(t=ou),n}}var fi=Et(function(e,t,n){var r=1;if(n.length){var i=bf(n,Pn(fi));r|=32}return Tn(e,r,t,n,i)}),ci=Et(function(e,t,n){var r=3;if(n.length){var i=bf(n,Pn(ci));r|=32}return Tn(t,r,e,n,i)});function si(r,i,e){var o,u,a,f,c,s,l=0,h=!1,p=!1,t=!0;if("function"!=typeof r)throw new b(uu);function d(e){var t=o,n=u;return o=u=ou,l=e,f=r.apply(n,t)}function v(e){var t=e-s;return s===ou||i<=t||t<0||p&&a<=e-l}function g(){var e,t,n=oi();if(v(n))return m(n);c=fr(g,(t=i-((e=n)-s),p?Q(t,a-(e-l)):t))}function m(e){return c=ou,t&&o?d(e):(o=u=ou,f)}function n(){var e,t=oi(),n=v(t);if(o=arguments,u=this,s=t,n){if(c===ou)return l=e=s,c=fr(g,i),h?d(e):f;if(p)return Zt(c),c=fr(g,i),d(s)}return c===ou&&(c=fr(g,i)),f}return i=Yi(i)||0,zi(e)&&(h=!!e.leading,a=(p="maxWait"in e)?$(Yi(e.maxWait)||0,i):a,t="trailing"in e?!!e.trailing:t),n.cancel=function(){c!==ou&&Zt(c),l=0,o=s=u=c=ou},n.flush=function(){return c===ou?f:m(oi())},n}var li=Et(function(e,t){return Pe(e,1,t)}),hi=Et(function(e,t,n){return Pe(e,Yi(t)||0,n)});function pi(i,o){if("function"!=typeof i||null!=o&&"function"!=typeof o)throw new b(uu);var u=function(){var e=arguments,t=o?o.apply(this,e):e[0],n=u.cache;if(n.has(t))return n.get(t);var r=i.apply(this,e);return u.cache=n.set(t,r)||n,r};return u.cache=new(pi.Cache||we),u}function di(t){if("function"!=typeof t)throw new b(uu);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}pi.Cache=we;var vi=Yt(function(r,i){var o=(i=1==i.length&&Ai(i[0])?$a(i[0],ff(Wn())):$a($e(i,1),ff(Wn()))).length;return Et(function(e){for(var t=-1,n=Q(e.length,o);++t<n;)e[t]=i[t].call(this,e[t]);return Ra(r,this,e)})}),gi=Et(function(e,t){var n=bf(t,Pn(gi));return Tn(e,32,ou,t,n)}),mi=Et(function(e,t){var n=bf(t,Pn(mi));return Tn(e,64,ou,t,n)}),yi=Fn(function(e,t){return Tn(e,256,ou,ou,ou,t)});function bi(e,t){return e===t||e!=e&&t!=t}var _i=kn(tt),xi=kn(function(e,t){return t<=e}),wi=ut(function(){return arguments}())?ut:function(e){return Fi(e)&&w.call(e,"callee")&&!D.call(e,"callee")},Ai=E.isArray,ki=Oa?ff(Oa):function(e){return Fi(e)&&et(e)==Du};function Ei(e){return null!=e&&Oi(e.length)&&!Di(e)}function ji(e){return Fi(e)&&Ei(e)}var Ci=U||Go,Si=za?ff(za):function(e){return Fi(e)&&et(e)==mu};function Ti(e){if(!Fi(e))return!1;var t=et(e);return t==yu||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Bi(e)}function Di(e){if(!zi(e))return!1;var t=et(e);return t==bu||t==_u||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Mi(e){return"number"==typeof e&&e==Qi(e)}function Oi(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=su}function zi(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Fi(e){return null!=e&&"object"==typeof e}var Li=Fa?ff(Fa):function(e){return Fi(e)&&$n(e)==xu};function Ii(e){return"number"==typeof e||Fi(e)&&et(e)==wu}function Bi(e){if(!Fi(e)||et(e)!=Au)return!1;var t=S(e);if(null===t)return!0;var n=w.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==v}var Ri=La?ff(La):function(e){return Fi(e)&&et(e)==Eu};var Pi=Ia?ff(Ia):function(e){return Fi(e)&&$n(e)==ju};function Wi(e){return"string"==typeof e||!Ai(e)&&Fi(e)&&et(e)==Cu}function qi(e){return"symbol"==typeof e||Fi(e)&&et(e)==Su}var Ui=Ba?ff(Ba):function(e){return Fi(e)&&Oi(e.length)&&!!ja[et(e)]};var Ni=kn(pt),Hi=kn(function(e,t){return e<=t});function Vi(e){if(!e)return[];if(Ei(e))return(Wi(e)?wf:on)(e);if(z&&e[z])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[z]());var t=$n(e);return(t==xu?mf:t==ju?_f:_o)(e)}function $i(e){return e?(e=Yi(e))!==1/0&&e!==-1/0?e==e?e:0:17976931348623157e292*(e<0?-1:1):0===e?e:0}function Qi(e){var t=$i(e),n=t%1;return t==t?n?t-n:t:0}function Ki(e){return e?Ie(Qi(e),0,hu):0}function Yi(e){if("number"==typeof e)return e;if(qi(e))return lu;if(zi(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=zi(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(na,"");var n=pa.test(e);return n||va.test(e)?Ta(e.slice(2),n?2:8):ha.test(e)?lu:+e}function Gi(e){return un(e,lo(e))}function Zi(e){return null==e?"":Rt(e)}var Xi=fn(function(e,t){if(tr(t)||Ei(t))un(t,so(t),e);else for(var n in t)w.call(t,n)&&De(e,n,t[n])}),Ji=fn(function(e,t){un(t,lo(t),e)}),eo=fn(function(e,t,n,r){un(t,lo(t),e,r)}),to=fn(function(e,t,n,r){un(t,so(t),e,r)}),no=Fn(Le);var ro=Et(function(e,t){e=x(e);var n=-1,r=t.length,i=2<r?t[2]:ou;for(i&&Zn(t[0],t[1],i)&&(r=1);++n<r;)for(var o=t[n],u=lo(o),a=-1,f=u.length;++a<f;){var c=u[a],s=e[c];(s===ou||bi(s,l[c])&&!w.call(e,c))&&(e[c]=o[c])}return e}),io=Et(function(e){return e.push(ou,Mn),Ra(po,ou,e)});function oo(e,t,n){var r=null==e?ou:Xe(e,t);return r===ou?n:r}function uo(e,t){return null!=e&&Qn(e,t,rt)}var ao=yn(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=d.call(t)),e[t]=n},Fo(Bo)),fo=yn(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=d.call(t)),w.call(e,t)?e[t].push(n):e[t]=[n]},Wn),co=Et(ot);function so(e){return(Ei(e)?Ee:lt)(e)}function lo(e){return Ei(e)?Ee(e,!0):ht(e)}var ho=fn(function(e,t,n){mt(e,t,n)}),po=fn(function(e,t,n,r){mt(e,t,n,r)}),vo=Fn(function(t,e){var n={};if(null==t)return n;var r=!1;e=$a(e,function(e){return e=Kt(e,t),r=r||1<e.length,e}),un(t,In(t),n),r&&(n=Be(n,7,On));for(var i=e.length;i--;)Wt(n,e[i]);return n});var go=Fn(function(e,t){return null==e?{}:_t(n=e,t,function(e,t){return uo(n,t)});var n});function mo(e,n){if(null==e)return{};var t=$a(In(e),function(e){return[e]});return n=Wn(n),_t(e,t,function(e,t){return n(e,t[0])})}var yo=Sn(so),bo=Sn(lo);function _o(e){return null==e?[]:cf(e,so(e))}var xo=hn(function(e,t,n){return t=t.toLowerCase(),e+(n?wo(t):t)});function wo(e){return Do(Zi(e).toLowerCase())}function Ao(e){return(e=Zi(e))&&e.replace(ma,pf).replace(xa,"")}var ko=hn(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Eo=hn(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),jo=ln("toLowerCase");var Co=hn(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});var So=hn(function(e,t,n){return e+(n?" ":"")+Do(t)});var To=hn(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Do=ln("toUpperCase");function Mo(e,t,n){return e=Zi(e),(t=n?ou:t)===ou?(r=e,Aa.test(r)?e.match(wa)||[]:e.match(fa)||[]):e.match(t)||[];var r}var Oo=Et(function(e,t){try{return Ra(e,ou,t)}catch(e){return Ti(e)?e:new i(e)}}),zo=Fn(function(t,e){return Wa(e,function(e){e=gr(e),Fe(t,e,fi(t[e],t))}),t});function Fo(e){return function(){return e}}var Lo=gn(),Io=gn(!0);function Bo(e){return e}function Ro(e){return st("function"==typeof e?e:Be(e,1))}var Po=Et(function(t,n){return function(e){return ot(e,t,n)}}),Wo=Et(function(t,n){return function(e){return ot(t,e,n)}});function qo(r,t,e){var n=so(t),i=Ze(t,n);null!=e||zi(t)&&(i.length||!n.length)||(e=t,t=r,r=this,i=Ze(t,so(t)));var o=!(zi(e)&&"chain"in e&&!e.chain),u=Di(r);return Wa(i,function(e){var n=t[e];r[e]=n,u&&(r.prototype[e]=function(){var e=this.__chain__;if(o||e){var t=r(this.__wrapped__);return(t.__actions__=on(this.__actions__)).push({func:n,args:arguments,thisArg:r}),t.__chain__=e,t}return n.apply(r,Qa([this.value()],arguments))})}),r}function Uo(){}var No=_n($a),Ho=_n(Ua),Vo=_n(Ga);function $o(e){return Xn(e)?rf(gr(e)):(t=e,function(e){return Xe(e,t)});var t}var Qo=An(),Ko=An(!0);function Yo(){return[]}function Go(){return!1}var Zo=bn(function(e,t){return e+t},0),Xo=jn("ceil"),Jo=bn(function(e,t){return e/t},1),eu=jn("floor");var tu,nu=bn(function(e,t){return e*t},1),ru=jn("round"),iu=bn(function(e,t){return e-t},0);return de.after=function(e,t){if("function"!=typeof t)throw new b(uu);return e=Qi(e),function(){if(--e<1)return t.apply(this,arguments)}},de.ary=ui,de.assign=Xi,de.assignIn=Ji,de.assignInWith=eo,de.assignWith=to,de.at=no,de.before=ai,de.bind=fi,de.bindAll=zo,de.bindKey=ci,de.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ai(e)?e:[e]},de.chain=Vr,de.chunk=function(e,t,n){t=(n?Zn(e,t,n):t===ou)?1:$(Qi(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var i=0,o=0,u=E(P(r/t));i<r;)u[o++]=Ot(e,i,i+=t);return u},de.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},de.concat=function(){var e=arguments.length;if(!e)return[];for(var t=E(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return Qa(Ai(n)?on(n):[n],$e(t,1))},de.cond=function(r){var i=null==r?0:r.length,t=Wn();return r=i?$a(r,function(e){if("function"!=typeof e[1])throw new b(uu);return[t(e[0]),e[1]]}):[],Et(function(e){for(var t=-1;++t<i;){var n=r[t];if(Ra(n[0],this,e))return Ra(n[1],this,e)}})},de.conforms=function(e){return t=Be(e,1),n=so(t),function(e){return Re(e,t,n)};var t,n},de.constant=Fo,de.countBy=Kr,de.create=function(e,t){var n=ve(e);return null==t?n:ze(n,t)},de.curry=function e(t,n,r){var i=Tn(t,8,ou,ou,ou,ou,ou,n=r?ou:n);return i.placeholder=e.placeholder,i},de.curryRight=function e(t,n,r){var i=Tn(t,16,ou,ou,ou,ou,ou,n=r?ou:n);return i.placeholder=e.placeholder,i},de.debounce=si,de.defaults=ro,de.defaultsDeep=io,de.defer=li,de.delay=hi,de.difference=br,de.differenceBy=_r,de.differenceWith=xr,de.drop=function(e,t,n){var r=null==e?0:e.length;return r?Ot(e,(t=n||t===ou?1:Qi(t))<0?0:t,r):[]},de.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?Ot(e,0,(t=r-(t=n||t===ou?1:Qi(t)))<0?0:t):[]},de.dropRightWhile=function(e,t){return e&&e.length?Ut(e,Wn(t,3),!0,!0):[]},de.dropWhile=function(e,t){return e&&e.length?Ut(e,Wn(t,3),!0):[]},de.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&Zn(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=Qi(n))<0&&(n=i<-n?0:i+n),(r=r===ou||i<r?i:Qi(r))<0&&(r+=i),r=r<n?0:Ki(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},de.filter=function(e,t){return(Ai(e)?Na:Ve)(e,Wn(t,3))},de.flatMap=function(e,t){return $e(ni(e,t),1)},de.flatMapDeep=function(e,t){return $e(ni(e,t),1/0)},de.flatMapDepth=function(e,t,n){return n=n===ou?1:Qi(n),$e(ni(e,t),n)},de.flatten=kr,de.flattenDeep=function(e){return(null==e?0:e.length)?$e(e,1/0):[]},de.flattenDepth=function(e,t){return(null==e?0:e.length)?$e(e,t=t===ou?1:Qi(t)):[]},de.flip=function(e){return Tn(e,512)},de.flow=Lo,de.flowRight=Io,de.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},de.functions=function(e){return null==e?[]:Ze(e,so(e))},de.functionsIn=function(e){return null==e?[]:Ze(e,lo(e))},de.groupBy=Jr,de.initial=function(e){return(null==e?0:e.length)?Ot(e,0,-1):[]},de.intersection=jr,de.intersectionBy=Cr,de.intersectionWith=Sr,de.invert=ao,de.invertBy=fo,de.invokeMap=ei,de.iteratee=Ro,de.keyBy=ti,de.keys=so,de.keysIn=lo,de.map=ni,de.mapKeys=function(e,r){var i={};return r=Wn(r,3),Ye(e,function(e,t,n){Fe(i,r(e,t,n),e)}),i},de.mapValues=function(e,r){var i={};return r=Wn(r,3),Ye(e,function(e,t,n){Fe(i,t,r(e,t,n))}),i},de.matches=function(e){return vt(Be(e,1))},de.matchesProperty=function(e,t){return gt(e,Be(t,1))},de.memoize=pi,de.merge=ho,de.mergeWith=po,de.method=Po,de.methodOf=Wo,de.mixin=qo,de.negate=di,de.nthArg=function(t){return t=Qi(t),Et(function(e){return yt(e,t)})},de.omit=vo,de.omitBy=function(e,t){return mo(e,di(Wn(t)))},de.once=function(e){return ai(2,e)},de.orderBy=function(e,t,n,r){return null==e?[]:(Ai(t)||(t=null==t?[]:[t]),Ai(n=r?ou:n)||(n=null==n?[]:[n]),bt(e,t,n))},de.over=No,de.overArgs=vi,de.overEvery=Ho,de.overSome=Vo,de.partial=gi,de.partialRight=mi,de.partition=ri,de.pick=go,de.pickBy=mo,de.property=$o,de.propertyOf=function(t){return function(e){return null==t?ou:Xe(t,e)}},de.pull=Dr,de.pullAll=Mr,de.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?xt(e,t,Wn(n,2)):e},de.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?xt(e,t,ou,n):e},de.pullAt=Or,de.range=Qo,de.rangeRight=Ko,de.rearg=yi,de.reject=function(e,t){return(Ai(e)?Na:Ve)(e,di(Wn(t,3)))},de.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=Wn(t,3);++r<o;){var u=e[r];t(u,r,e)&&(n.push(u),i.push(r))}return wt(e,i),n},de.rest=function(e,t){if("function"!=typeof e)throw new b(uu);return Et(e,t=t===ou?t:Qi(t))},de.reverse=zr,de.sampleSize=function(e,t,n){return t=(n?Zn(e,t,n):t===ou)?1:Qi(t),(Ai(e)?Ce:Ct)(e,t)},de.set=function(e,t,n){return null==e?e:St(e,t,n)},de.setWith=function(e,t,n,r){return r="function"==typeof r?r:ou,null==e?e:St(e,t,n,r)},de.shuffle=function(e){return(Ai(e)?Se:Mt)(e)},de.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n=n&&"number"!=typeof n&&Zn(e,t,n)?(t=0,r):(t=null==t?0:Qi(t),n===ou?r:Qi(n)),Ot(e,t,n)):[]},de.sortBy=ii,de.sortedUniq=function(e){return e&&e.length?It(e):[]},de.sortedUniqBy=function(e,t){return e&&e.length?It(e,Wn(t,2)):[]},de.split=function(e,t,n){return n&&"number"!=typeof n&&Zn(e,t,n)&&(t=n=ou),(n=n===ou?hu:n>>>0)?(e=Zi(e))&&("string"==typeof t||null!=t&&!Ri(t))&&!(t=Rt(t))&&gf(e)?Gt(wf(e),0,n):e.split(t,n):[]},de.spread=function(r,i){if("function"!=typeof r)throw new b(uu);return i=null==i?0:$(Qi(i),0),Et(function(e){var t=e[i],n=Gt(e,0,i);return t&&Qa(n,t),Ra(r,this,n)})},de.tail=function(e){var t=null==e?0:e.length;return t?Ot(e,1,t):[]},de.take=function(e,t,n){return e&&e.length?Ot(e,0,(t=n||t===ou?1:Qi(t))<0?0:t):[]},de.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?Ot(e,(t=r-(t=n||t===ou?1:Qi(t)))<0?0:t,r):[]},de.takeRightWhile=function(e,t){return e&&e.length?Ut(e,Wn(t,3),!1,!0):[]},de.takeWhile=function(e,t){return e&&e.length?Ut(e,Wn(t,3)):[]},de.tap=function(e,t){return t(e),e},de.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new b(uu);return zi(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),si(e,t,{leading:r,maxWait:t,trailing:i})},de.thru=$r,de.toArray=Vi,de.toPairs=yo,de.toPairsIn=bo,de.toPath=function(e){return Ai(e)?$a(e,gr):qi(e)?[e]:on(vr(Zi(e)))},de.toPlainObject=Gi,de.transform=function(e,r,i){var t=Ai(e),n=t||Ci(e)||Ui(e);if(r=Wn(r,4),null==i){var o=e&&e.constructor;i=n?t?new o:[]:zi(e)&&Di(o)?ve(S(e)):{}}return(n?Wa:Ye)(e,function(e,t,n){return r(i,e,t,n)}),i},de.unary=function(e){return ui(e,1)},de.union=Fr,de.unionBy=Lr,de.unionWith=Ir,de.uniq=function(e){return e&&e.length?Pt(e):[]},de.uniqBy=function(e,t){return e&&e.length?Pt(e,Wn(t,2)):[]},de.uniqWith=function(e,t){return t="function"==typeof t?t:ou,e&&e.length?Pt(e,ou,t):[]},de.unset=function(e,t){return null==e||Wt(e,t)},de.unzip=Br,de.unzipWith=Rr,de.update=function(e,t,n){return null==e?e:qt(e,t,Qt(n))},de.updateWith=function(e,t,n,r){return r="function"==typeof r?r:ou,null==e?e:qt(e,t,Qt(n),r)},de.values=_o,de.valuesIn=function(e){return null==e?[]:cf(e,lo(e))},de.without=Pr,de.words=Mo,de.wrap=function(e,t){return gi(Qt(t),e)},de.xor=Wr,de.xorBy=qr,de.xorWith=Ur,de.zip=Nr,de.zipObject=function(e,t){return Vt(e||[],t||[],De)},de.zipObjectDeep=function(e,t){return Vt(e||[],t||[],St)},de.zipWith=Hr,de.entries=yo,de.entriesIn=bo,de.extend=Ji,de.extendWith=eo,qo(de,de),de.add=Zo,de.attempt=Oo,de.camelCase=xo,de.capitalize=wo,de.ceil=Xo,de.clamp=function(e,t,n){return n===ou&&(n=t,t=ou),n!==ou&&(n=(n=Yi(n))==n?n:0),t!==ou&&(t=(t=Yi(t))==t?t:0),Ie(Yi(e),t,n)},de.clone=function(e){return Be(e,4)},de.cloneDeep=function(e){return Be(e,5)},de.cloneDeepWith=function(e,t){return Be(e,5,t="function"==typeof t?t:ou)},de.cloneWith=function(e,t){return Be(e,4,t="function"==typeof t?t:ou)},de.conformsTo=function(e,t){return null==t||Re(e,t,so(t))},de.deburr=Ao,de.defaultTo=function(e,t){return null==e||e!=e?t:e},de.divide=Jo,de.endsWith=function(e,t,n){e=Zi(e),t=Rt(t);var r=e.length,i=n=n===ou?r:Ie(Qi(n),0,r);return 0<=(n-=t.length)&&e.slice(n,i)==t},de.eq=bi,de.escape=function(e){return(e=Zi(e))&&Qu.test(e)?e.replace(Vu,df):e},de.escapeRegExp=function(e){return(e=Zi(e))&&ta.test(e)?e.replace(ea,"\\$&"):e},de.every=function(e,t,n){var r=Ai(e)?Ua:Ne;return n&&Zn(e,t,n)&&(t=ou),r(e,Wn(t,3))},de.find=Yr,de.findIndex=wr,de.findKey=function(e,t){return Za(e,Wn(t,3),Ye)},de.findLast=Gr,de.findLastIndex=Ar,de.findLastKey=function(e,t){return Za(e,Wn(t,3),Ge)},de.floor=eu,de.forEach=Zr,de.forEachRight=Xr,de.forIn=function(e,t){return null==e?e:Qe(e,Wn(t,3),lo)},de.forInRight=function(e,t){return null==e?e:Ke(e,Wn(t,3),lo)},de.forOwn=function(e,t){return e&&Ye(e,Wn(t,3))},de.forOwnRight=function(e,t){return e&&Ge(e,Wn(t,3))},de.get=oo,de.gt=_i,de.gte=xi,de.has=function(e,t){return null!=e&&Qn(e,t,nt)},de.hasIn=uo,de.head=Er,de.identity=Bo,de.includes=function(e,t,n,r){e=Ei(e)?e:_o(e),n=n&&!r?Qi(n):0;var i=e.length;return n<0&&(n=$(i+n,0)),Wi(e)?n<=i&&-1<e.indexOf(t,n):!!i&&-1<Ja(e,t,n)},de.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Qi(n);return i<0&&(i=$(r+i,0)),Ja(e,t,i)},de.inRange=function(e,t,n){return t=$i(t),n===ou?(n=t,t=0):n=$i(n),e=Yi(e),(r=e)>=Q(i=t,o=n)&&r<$(i,o);var r,i,o},de.invoke=co,de.isArguments=wi,de.isArray=Ai,de.isArrayBuffer=ki,de.isArrayLike=Ei,de.isArrayLikeObject=ji,de.isBoolean=function(e){return!0===e||!1===e||Fi(e)&&et(e)==gu},de.isBuffer=Ci,de.isDate=Si,de.isElement=function(e){return Fi(e)&&1===e.nodeType&&!Bi(e)},de.isEmpty=function(e){if(null==e)return!0;if(Ei(e)&&(Ai(e)||"string"==typeof e||"function"==typeof e.splice||Ci(e)||Ui(e)||wi(e)))return!e.length;var t=$n(e);if(t==xu||t==ju)return!e.size;if(tr(e))return!lt(e).length;for(var n in e)if(w.call(e,n))return!1;return!0},de.isEqual=function(e,t){return at(e,t)},de.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:ou)?n(e,t):ou;return r===ou?at(e,t,ou,n):!!r},de.isError=Ti,de.isFinite=function(e){return"number"==typeof e&&N(e)},de.isFunction=Di,de.isInteger=Mi,de.isLength=Oi,de.isMap=Li,de.isMatch=function(e,t){return e===t||ft(e,t,Un(t))},de.isMatchWith=function(e,t,n){return n="function"==typeof n?n:ou,ft(e,t,Un(t),n)},de.isNaN=function(e){return Ii(e)&&e!=+e},de.isNative=function(e){if(er(e))throw new i("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return ct(e)},de.isNil=function(e){return null==e},de.isNull=function(e){return null===e},de.isNumber=Ii,de.isObject=zi,de.isObjectLike=Fi,de.isPlainObject=Bi,de.isRegExp=Ri,de.isSafeInteger=function(e){return Mi(e)&&-su<=e&&e<=su},de.isSet=Pi,de.isString=Wi,de.isSymbol=qi,de.isTypedArray=Ui,de.isUndefined=function(e){return e===ou},de.isWeakMap=function(e){return Fi(e)&&$n(e)==Tu},de.isWeakSet=function(e){return Fi(e)&&"[object WeakSet]"==et(e)},de.join=function(e,t){return null==e?"":H.call(e,t)},de.kebabCase=ko,de.last=Tr,de.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==ou&&(i=(i=Qi(n))<0?$(r+i,0):Q(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):Xa(e,tf,i,!0)},de.lowerCase=Eo,de.lowerFirst=jo,de.lt=Ni,de.lte=Hi,de.max=function(e){return e&&e.length?He(e,Bo,tt):ou},de.maxBy=function(e,t){return e&&e.length?He(e,Wn(t,2),tt):ou},de.mean=function(e){return nf(e,Bo)},de.meanBy=function(e,t){return nf(e,Wn(t,2))},de.min=function(e){return e&&e.length?He(e,Bo,pt):ou},de.minBy=function(e,t){return e&&e.length?He(e,Wn(t,2),pt):ou},de.stubArray=Yo,de.stubFalse=Go,de.stubObject=function(){return{}},de.stubString=function(){return""},de.stubTrue=function(){return!0},de.multiply=nu,de.nth=function(e,t){return e&&e.length?yt(e,Qi(t)):ou},de.noConflict=function(){return Da._===this&&(Da._=y),this},de.noop=Uo,de.now=oi,de.pad=function(e,t,n){e=Zi(e);var r=(t=Qi(t))?xf(e):0;if(!t||t<=r)return e;var i=(t-r)/2;return xn(W(i),n)+e+xn(P(i),n)},de.padEnd=function(e,t,n){e=Zi(e);var r=(t=Qi(t))?xf(e):0;return t&&r<t?e+xn(t-r,n):e},de.padStart=function(e,t,n){e=Zi(e);var r=(t=Qi(t))?xf(e):0;return t&&r<t?xn(t-r,n)+e:e},de.parseInt=function(e,t,n){return t=n||null==t?0:t&&+t,Y(Zi(e).replace(ra,""),t||0)},de.random=function(e,t,n){if(n&&"boolean"!=typeof n&&Zn(e,t,n)&&(t=n=ou),n===ou&&("boolean"==typeof t?(n=t,t=ou):"boolean"==typeof e&&(n=e,e=ou)),e===ou&&t===ou?(e=0,t=1):(e=$i(e),t===ou?(t=e,e=0):t=$i(t)),t<e){var r=e;e=t,t=r}if(n||e%1||t%1){var i=G();return Q(e+i*(t-e+Sa("1e-"+((i+"").length-1))),t)}return At(e,t)},de.reduce=function(e,t,n){var r=Ai(e)?Ka:of,i=arguments.length<3;return r(e,Wn(t,4),n,i,qe)},de.reduceRight=function(e,t,n){var r=Ai(e)?Ya:of,i=arguments.length<3;return r(e,Wn(t,4),n,i,Ue)},de.repeat=function(e,t,n){return t=(n?Zn(e,t,n):t===ou)?1:Qi(t),kt(Zi(e),t)},de.replace=function(){var e=arguments,t=Zi(e[0]);return e.length<3?t:t.replace(e[1],e[2])},de.result=function(e,t,n){var r=-1,i=(t=Kt(t,e)).length;for(i||(i=1,e=ou);++r<i;){var o=null==e?ou:e[gr(t[r])];o===ou&&(r=i,o=n),e=Di(o)?o.call(e):o}return e},de.round=ru,de.runInContext=e,de.sample=function(e){return(Ai(e)?je:jt)(e)},de.size=function(e){if(null==e)return 0;if(Ei(e))return Wi(e)?xf(e):e.length;var t=$n(e);return t==xu||t==ju?e.size:lt(e).length},de.snakeCase=Co,de.some=function(e,t,n){var r=Ai(e)?Ga:zt;return n&&Zn(e,t,n)&&(t=ou),r(e,Wn(t,3))},de.sortedIndex=function(e,t){return Ft(e,t)},de.sortedIndexBy=function(e,t,n){return Lt(e,t,Wn(n,2))},de.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=Ft(e,t);if(r<n&&bi(e[r],t))return r}return-1},de.sortedLastIndex=function(e,t){return Ft(e,t,!0)},de.sortedLastIndexBy=function(e,t,n){return Lt(e,t,Wn(n,2),!0)},de.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=Ft(e,t,!0)-1;if(bi(e[n],t))return n}return-1},de.startCase=So,de.startsWith=function(e,t,n){return e=Zi(e),n=null==n?0:Ie(Qi(n),0,e.length),t=Rt(t),e.slice(n,n+t.length)==t},de.subtract=iu,de.sum=function(e){return e&&e.length?uf(e,Bo):0},de.sumBy=function(e,t){return e&&e.length?uf(e,Wn(t,2)):0},de.template=function(u,e,t){var n=de.templateSettings;t&&Zn(u,e,t)&&(e=ou),u=Zi(u),e=eo({},e,n,Dn);var a,f,r=eo({},e.imports,n.imports,Dn),i=so(r),o=cf(r,i),c=0,s=e.interpolate||ya,l="__p += '",h=m((e.escape||ya).source+"|"+s.source+"|"+(s===Gu?sa:ya).source+"|"+(e.evaluate||ya).source+"|$","g"),p="//# sourceURL="+(w.call(e,"sourceURL")?(e.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++Ea+"]")+"\n";u.replace(h,function(e,t,n,r,i,o){return n=n||r,l+=u.slice(c,o).replace(ba,vf),t&&(a=!0,l+="' +\n__e("+t+") +\n'"),i&&(f=!0,l+="';\n"+i+";\n__p += '"),n&&(l+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),c=o+e.length,e}),l+="';\n";var d=w.call(e,"variable")&&e.variable;d||(l="with (obj) {\n"+l+"\n}\n"),l=(f?l.replace(qu,""):l).replace(Uu,"$1").replace(Nu,"$1;"),l="function("+(d||"obj")+") {\n"+(d?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(f?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+l+"return __p\n}";var v=Oo(function(){return g(i,p+"return "+l).apply(ou,o)});if(v.source=l,Ti(v))throw v;return v},de.times=function(e,t){if((e=Qi(e))<1||su<e)return[];var n=hu,r=Q(e,hu);t=Wn(t),e-=hu;for(var i=af(r,t);++n<e;)t(n);return i},de.toFinite=$i,de.toInteger=Qi,de.toLength=Ki,de.toLower=function(e){return Zi(e).toLowerCase()},de.toNumber=Yi,de.toSafeInteger=function(e){return e?Ie(Qi(e),-su,su):0===e?e:0},de.toString=Zi,de.toUpper=function(e){return Zi(e).toUpperCase()},de.trim=function(e,t,n){if((e=Zi(e))&&(n||t===ou))return e.replace(na,"");if(!e||!(t=Rt(t)))return e;var r=wf(e),i=wf(t);return Gt(r,lf(r,i),hf(r,i)+1).join("")},de.trimEnd=function(e,t,n){if((e=Zi(e))&&(n||t===ou))return e.replace(ia,"");if(!e||!(t=Rt(t)))return e;var r=wf(e);return Gt(r,0,hf(r,wf(t))+1).join("")},de.trimStart=function(e,t,n){if((e=Zi(e))&&(n||t===ou))return e.replace(ra,"");if(!e||!(t=Rt(t)))return e;var r=wf(e);return Gt(r,lf(r,wf(t))).join("")},de.truncate=function(e,t){var n=30,r="...";if(zi(t)){var i="separator"in t?t.separator:i;n="length"in t?Qi(t.length):n,r="omission"in t?Rt(t.omission):r}var o=(e=Zi(e)).length;if(gf(e)){var u=wf(e);o=u.length}if(o<=n)return e;var a=n-xf(r);if(a<1)return r;var f=u?Gt(u,0,a).join(""):e.slice(0,a);if(i===ou)return f+r;if(u&&(a+=f.length-a),Ri(i)){if(e.slice(a).search(i)){var c,s=f;for(i.global||(i=m(i.source,Zi(la.exec(i))+"g")),i.lastIndex=0;c=i.exec(s);)var l=c.index;f=f.slice(0,l===ou?a:l)}}else if(e.indexOf(Rt(i),a)!=a){var h=f.lastIndexOf(i);-1<h&&(f=f.slice(0,h))}return f+r},de.unescape=function(e){return(e=Zi(e))&&$u.test(e)?e.replace(Hu,Af):e},de.uniqueId=function(e){var t=++h;return Zi(e)+t},de.upperCase=To,de.upperFirst=Do,de.each=Zr,de.eachRight=Xr,de.first=Er,qo(de,(tu={},Ye(de,function(e,t){w.call(de.prototype,t)||(tu[t]=e)}),tu),{chain:!1}),de.VERSION="4.17.15",Wa(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){de[e].placeholder=de}),Wa(["drop","take"],function(n,r){be.prototype[n]=function(e){e=e===ou?1:$(Qi(e),0);var t=this.__filtered__&&!r?new be(this):this.clone();return t.__filtered__?t.__takeCount__=Q(e,t.__takeCount__):t.__views__.push({size:Q(e,hu),type:n+(t.__dir__<0?"Right":"")}),t},be.prototype[n+"Right"]=function(e){return this.reverse()[n](e).reverse()}}),Wa(["filter","map","takeWhile"],function(e,t){var n=t+1,r=1==n||3==n;be.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Wn(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),Wa(["head","last"],function(e,t){var n="take"+(t?"Right":"");be.prototype[e]=function(){return this[n](1).value()[0]}}),Wa(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");be.prototype[e]=function(){return this.__filtered__?new be(this):this[n](1)}}),be.prototype.compact=function(){return this.filter(Bo)},be.prototype.find=function(e){return this.filter(e).head()},be.prototype.findLast=function(e){return this.reverse().find(e)},be.prototype.invokeMap=Et(function(t,n){return"function"==typeof t?new be(this):this.map(function(e){return ot(e,t,n)})}),be.prototype.reject=function(e){return this.filter(di(Wn(e)))},be.prototype.slice=function(e,t){e=Qi(e);var n=this;return n.__filtered__&&(0<e||t<0)?new be(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==ou&&(n=(t=Qi(t))<0?n.dropRight(-t):n.take(t-e)),n)},be.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},be.prototype.toArray=function(){return this.take(hu)},Ye(be.prototype,function(l,e){var h=/^(?:filter|find|map|reject)|While$/.test(e),p=/^(?:head|last)$/.test(e),d=de[p?"take"+("last"==e?"Right":""):e],v=p||/^find/.test(e);d&&(de.prototype[e]=function(){function e(e){var t=d.apply(de,Qa([e],n));return p&&u?t[0]:t}var t=this.__wrapped__,n=p?[1]:arguments,r=t instanceof be,i=n[0],o=r||Ai(t);o&&h&&"function"==typeof i&&1!=i.length&&(r=o=!1);var u=this.__chain__,a=!!this.__actions__.length,f=v&&!u,c=r&&!a;if(v||!o)return f&&c?l.apply(this,n):(s=this.thru(e),f?p?s.value()[0]:s.value():s);t=c?t:new be(this);var s=l.apply(t,n);return s.__actions__.push({func:$r,args:[e],thisArg:ou}),new ye(s,u)})}),Wa(["pop","push","shift","sort","splice","unshift"],function(e){var n=u[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);de.prototype[e]=function(){var t=arguments;if(!i||this.__chain__)return this[r](function(e){return n.apply(Ai(e)?e:[],t)});var e=this.value();return n.apply(Ai(e)?e:[],t)}}),Ye(be.prototype,function(e,t){var n=de[t];if(n){var r=n.name+"";w.call(oe,r)||(oe[r]=[]),oe[r].push({name:t,func:n})}}),oe[mn(ou,2).name]=[{name:"wrapper",func:ou}],be.prototype.clone=function(){var e=new be(this.__wrapped__);return e.__actions__=on(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=on(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=on(this.__views__),e},be.prototype.reverse=function(){if(this.__filtered__){var e=new be(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},be.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ai(e),r=t<0,i=n?e.length:0,o=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],u=o.size;switch(o.type){case"drop":e+=u;break;case"dropRight":t-=u;break;case"take":t=Q(t,e+u);break;case"takeRight":e=$(e,t-u)}}return{start:e,end:t}}(0,i,this.__views__),u=o.start,a=o.end,f=a-u,c=r?a:u-1,s=this.__iteratees__,l=s.length,h=0,p=Q(f,this.__takeCount__);if(!n||!r&&i==f&&p==f)return Nt(e,this.__actions__);var d=[];e:for(;f--&&h<p;){for(var v=-1,g=e[c+=t];++v<l;){var m=s[v],y=m.iteratee,b=m.type,_=y(g);if(2==b)g=_;else if(!_){if(1==b)continue e;break e}}d[h++]=g}return d},de.prototype.at=Qr,de.prototype.chain=function(){return Vr(this)},de.prototype.commit=function(){return new ye(this.value(),this.__chain__)},de.prototype.next=function(){this.__values__===ou&&(this.__values__=Vi(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?ou:this.__values__[this.__index__++]}},de.prototype.plant=function(e){for(var t,n=this;n instanceof me;){var r=yr(n);r.__index__=0,r.__values__=ou,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},de.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof be){var t=e;return this.__actions__.length&&(t=new be(this)),(t=t.reverse()).__actions__.push({func:$r,args:[zr],thisArg:ou}),new ye(t,this.__chain__)}return this.thru(zr)},de.prototype.toJSON=de.prototype.valueOf=de.prototype.value=function(){return Nt(this.__wrapped__,this.__actions__)},de.prototype.first=de.prototype.head,z&&(de.prototype[z]=function(){return this}),de}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Da._=kf,define(function(){return kf})):I?((I.exports=kf)._=kf,L._=kf):Da._=kf}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],59:[function(e,t,n){"use strict";t.exports=function(t,i){i||(i=t,t=window);var o=0,u=0,a=0,f={shift:!1,alt:!1,control:!1,meta:!1},n=!1;function c(e){var t=!1;return"altKey"in e&&(t=t||e.altKey!==f.alt,f.alt=!!e.altKey),"shiftKey"in e&&(t=t||e.shiftKey!==f.shift,f.shift=!!e.shiftKey),"ctrlKey"in e&&(t=t||e.ctrlKey!==f.control,f.control=!!e.ctrlKey),"metaKey"in e&&(t=t||e.metaKey!==f.meta,f.meta=!!e.metaKey),t}function r(e,t){var n=m.x(t),r=m.y(t);"buttons"in t&&(e=0|t.buttons),e===o&&n===u&&r===a&&!c(t)||(o=0|e,u=n||0,a=r||0,i&&i(o,u,a,f))}function s(e){r(0,e)}function l(){(o||u||a||f.shift||f.alt||f.meta||f.control)&&(u=a=0,o=0,f.shift=f.alt=f.control=f.meta=!1,i&&i(0,0,0,f))}function h(e){c(e)&&i&&i(o,u,a,f)}function p(e){0===m.buttons(e)?r(0,e):r(o,e)}function d(e){r(o|m.buttons(e),e)}function v(e){r(o&~m.buttons(e),e)}function g(){n||(n=!0,t.addEventListener("mousemove",p),t.addEventListener("mousedown",d),t.addEventListener("mouseup",v),t.addEventListener("mouseleave",s),t.addEventListener("mouseenter",s),t.addEventListener("mouseout",s),t.addEventListener("mouseover",s),t.addEventListener("blur",l),t.addEventListener("keyup",h),t.addEventListener("keydown",h),t.addEventListener("keypress",h),t!==window&&(window.addEventListener("blur",l),window.addEventListener("keyup",h),window.addEventListener("keydown",h),window.addEventListener("keypress",h)))}g();var e={element:t};return Object.defineProperties(e,{enabled:{get:function(){return n},set:function(e){(e?g:function(){if(!n)return;n=!1,t.removeEventListener("mousemove",p),t.removeEventListener("mousedown",d),t.removeEventListener("mouseup",v),t.removeEventListener("mouseleave",s),t.removeEventListener("mouseenter",s),t.removeEventListener("mouseout",s),t.removeEventListener("mouseover",s),t.removeEventListener("blur",l),t.removeEventListener("keyup",h),t.removeEventListener("keydown",h),t.removeEventListener("keypress",h),t!==window&&(window.removeEventListener("blur",l),window.removeEventListener("keyup",h),window.removeEventListener("keydown",h),window.removeEventListener("keypress",h))})()},enumerable:!0},buttons:{get:function(){return o},enumerable:!0},x:{get:function(){return u},enumerable:!0},y:{get:function(){return a},enumerable:!0},mods:{get:function(){return f},enumerable:!0}}),e};var m=e("mouse-event")},{"mouse-event":60}],60:[function(e,t,n){"use strict";function r(e){return e.target||e.srcElement||window}n.buttons=function(e){if("object"==typeof e){if("buttons"in e)return e.buttons;if("which"in e){if(2===(t=e.which))return 4;if(3===t)return 2;if(0<t)return 1<<t-1}else if("button"in e){var t;if(1===(t=e.button))return 4;if(2===t)return 2;if(0<=t)return 1<<t}}return 0},n.element=r,n.x=function(e){if("object"!=typeof e)return 0;if("offsetX"in e)return e.offsetX;var t=r(e).getBoundingClientRect();return e.clientX-t.left},n.y=function(e){if("object"!=typeof e)return 0;if("offsetY"in e)return e.offsetY;var t=r(e).getBoundingClientRect();return e.clientY-t.top}},{}],61:[function(e,t,n){"use strict";var r=e("to-px");t.exports=function(e,o,u){"function"==typeof e&&(u=!!o,o=e,e=window);function t(e){u&&e.preventDefault();var t=e.deltaX||0,n=e.deltaY||0,r=e.deltaZ||0,i=1;switch(e.deltaMode){case 1:i=a;break;case 2:i=window.innerHeight}if(n*=i,r*=i,(t*=i)||n||r)return o(t,n,r,e)}var a=r("ex",e);return e.addEventListener("wheel",t),t}},{"to-px":65}],62:[function(e,t,n){t.exports=function(e,t){t=t||[0,""],e=String(e);var n=parseFloat(e,10);return t[0]=n,t[1]=e.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}},{}],63:[function(e,t,n){var l=e("mouse-change"),h=e("mouse-wheel"),x=e("gl-mat4/identity"),w=e("gl-mat4/perspective"),A=e("gl-mat4/lookAt");t.exports=function(n,e){var t=e||{};void 0===t.noScroll&&(t.noScroll=t.preventDefault);var p={view:x(new Float32Array(16)),projection:x(new Float32Array(16)),center:new Float32Array(t.center||3),theta:t.theta||0,phi:t.phi||0,distance:Math.log(t.distance||10),eye:new Float32Array(3),up:new Float32Array(t.up||[0,1,0]),fovy:t.fovy||Math.PI/4,near:void 0!==t.near?t.near:.01,far:void 0!==t.far?t.far:1e3,noScroll:void 0!==t.noScroll&&t.noScroll,flipY:!!t.flipY,dtheta:0,dphi:0,rotationSpeed:void 0!==t.rotationSpeed?t.rotationSpeed:1,zoomSpeed:void 0!==t.zoomSpeed?t.zoomSpeed:1,renderOnDirty:(t.renderOnDirty,!!t.renderOnDirty)},o=t.element,r=void 0!==t.damping?t.damping:.9,d=new Float32Array([1,0,0]),v=new Float32Array([0,0,1]),g=Math.log("minDistance"in t?t.minDistance:.1),m=Math.log("maxDistance"in t?t.maxDistance:1e3),y=0,u=0,a=0;if(k&&!1!==t.mouse){var i=o||n._gl.canvas;function f(){return o?o.offsetHeight:window.innerHeight}l(i,function(e,t,n){if(1&e){var r=(t-u)/(o?o.offsetWidth:window.innerWidth),i=(n-a)/f();p.dtheta+=4*p.rotationSpeed*r,p.dphi+=4*p.rotationSpeed*i,p.dirty=!0}u=t,a=n}),h(i,function(e,t){y+=t/f()*p.zoomSpeed,p.dirty=!0},t.noScroll)}function b(e){var t=e*r;return Math.abs(t)<.1?0:(p.dirty=!0,t)}function _(e,t,n){return Math.min(Math.max(e,t),n)}p.dirty=!0;var c=n({context:Object.assign({},p,{dirty:function(){return p.dirty},projection:function(e){return w(p.projection,p.fovy,e.viewportWidth/e.viewportHeight,p.near,p.far),p.flipY&&(p.projection[5]*=-1),p.projection}}),uniforms:Object.keys(p).reduce(function(e,t){return e[t]=n.context(t),e},{})});function s(e,t){void 0!==s.dirty&&(p.dirty=s.dirty||p.dirty,s.dirty=void 0),e&&t&&(p.dirty=!0),p.renderOnDirty&&!p.dirty||(t||(t=e,e={}),function(t){Object.keys(t).forEach(function(e){p[e]=t[e]});var e=p.center,n=p.eye,r=p.up,i=p.dtheta,o=p.dphi;p.theta+=i,p.phi=_(p.phi+o,-Math.PI/2,Math.PI/2),p.distance=_(p.distance+y,g,m),p.dtheta=b(i),p.dphi=b(o),y=b(y);for(var u=p.theta,a=p.phi,f=Math.exp(p.distance),c=f*Math.sin(u)*Math.cos(a),s=f*Math.cos(u)*Math.cos(a),l=f*Math.sin(a),h=0;h<3;++h)n[h]=e[h]+c*v[h]+s*d[h]+l*r[h];A(p.view,n,e,r)}(e),c(t),p.dirty=!1)}return Object.keys(p).forEach(function(e){s[e]=p[e]}),s};var k="undefined"!=typeof window},{"gl-mat4/identity":9,"gl-mat4/lookAt":10,"gl-mat4/perspective":11,"mouse-change":59,"mouse-wheel":61}],64:[function(e,t,n){var r,i;r=this,i=function(){function n(e,t){this.id=o++,this.type=e,this.data=t}function r(e){return"["+function e(t){if(0===t.length)return[];var n=t.charAt(0),r=t.charAt(t.length-1);if(1<t.length&&n===r&&('"'===n||"'"===n))return['"'+t.substr(1,t.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(n=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(t))return e(t.substr(0,n.index)).concat(e(n[1])).concat(e(t.substr(n.index+n[0].length)));if(1===(n=t.split(".")).length)return['"'+t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(t=[],r=0;r<n.length;++r)t=t.concat(e(n[r]));return t}(e).join("][")+"]"}function b(e){return"string"==typeof e?e.split():e}function _(e){return"string"==typeof e?document.querySelector(e):e}function ne(e){var t,n,r,i,o=e||{};e={};var u,a,f,c,s,l=[],h=[],p="undefined"==typeof window?1:window.devicePixelRatio,d=!1,v=function(e){},g=function(){};if("string"==typeof o?t=document.querySelector(o):"object"==typeof o&&("string"==typeof o.nodeName&&"function"==typeof o.appendChild&&"function"==typeof o.getBoundingClientRect?t=o:"function"==typeof o.drawArrays||"function"==typeof o.drawElements?r=(i=o).canvas:("gl"in o?i=o.gl:"canvas"in o?r=_(o.canvas):"container"in o&&(n=_(o.container)),"attributes"in o&&(e=o.attributes),"extensions"in o&&(l=b(o.extensions)),"optionalExtensions"in o&&(h=b(o.optionalExtensions)),"onDone"in o&&(v=o.onDone),"profile"in o&&(d=!!o.profile),"pixelRatio"in o&&(p=+o.pixelRatio))),t&&("canvas"===t.nodeName.toLowerCase()?r=t:n=t),!i){if(!r){if(f=n||document.body,c=p,s=document.createElement("canvas"),be(s.style,{border:0,margin:0,padding:0,top:0,left:0}),f.appendChild(s),f===document.body&&(s.style.position="absolute",be(f.style,{margin:0,padding:0})),window.addEventListener("resize",y,!1),y(),!(t={canvas:s,onDestroy:function(){window.removeEventListener("resize",y),f.removeChild(s)}}))return null;r=t.canvas,g=t.onDestroy}u=r,a=e,i=m("webgl")||m("experimental-webgl")||m("webgl-experimental")}function m(e){try{return u.getContext(e,a)}catch(e){return null}}function y(){var e=window.innerWidth,t=window.innerHeight;f!==document.body&&(e=(t=f.getBoundingClientRect()).right-t.left,t=t.bottom-t.top),s.width=c*e,s.height=c*t,be(s.style,{width:e+"px",height:t+"px"})}return i?{gl:i,canvas:r,container:n,extensions:l,optionalExtensions:h,pixelRatio:p,profile:d,onDone:v,onDestroy:g}:(g(),v("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function K(e,t){for(var n=Array(e),r=0;r<e;++r)n[r]=t(r);return n}function i(e){var t,n;return t=(65535<e)<<4,t|=n=(255<(e>>>=t))<<3,(t|=n=(15<(e>>>=n))<<2)|(n=(3<(e>>>=n))<<1)|e>>>n>>1}function e(){function r(e){e:{for(var t=16;t<=268435456;t*=16)if(e<=t){e=t;break e}e=0}return 0<(t=n[i(e)>>2]).length?t.pop():new ArrayBuffer(e)}function t(e){n[i(e.byteLength)>>2].push(e)}var n=K(8,function(){return[]});return{alloc:r,free:t,allocType:function(e,t){var n=null;switch(e){case 5120:n=new Int8Array(r(t),0,t);break;case 5121:n=new Uint8Array(r(t),0,t);break;case 5122:n=new Int16Array(r(2*t),0,t);break;case 5123:n=new Uint16Array(r(2*t),0,t);break;case 5124:n=new Int32Array(r(4*t),0,t);break;case 5125:n=new Uint32Array(r(4*t),0,t);break;case 5126:n=new Float32Array(r(4*t),0,t);break;default:return null}return n.length!==t?n.subarray(0,t):n},freeType:function(e){t(e.buffer)}}}function re(e){return!!e&&"object"==typeof e&&Array.isArray(e.shape)&&Array.isArray(e.stride)&&"number"==typeof e.offset&&e.shape.length===e.stride.length&&(Array.isArray(e.data)||Ee(e.data))}function l(e,t,n,r,i,o){for(var u=0;u<t;++u)for(var a=e[u],f=0;f<n;++f)for(var c=a[f],s=0;s<r;++s)i[o++]=c[s]}function ie(e){return 0|Se[Object.prototype.toString.call(e)]}function oe(e,t){for(var n=0;n<t.length;++n)e[n]=t[n]}function ue(e,t,n,r,i,o,u){for(var a=0,f=0;f<n;++f)for(var c=0;c<r;++c)e[a++]=t[i*f+o*c+u]}function ae(e){for(var t=Ae.allocType(5123,e.length),n=0;n<e.length;++n)if(isNaN(e[n]))t[n]=65535;else if(1/0===e[n])t[n]=31744;else if(-1/0===e[n])t[n]=64512;else{u[0]=e[n];var r=(o=a[0])>>>31<<15,i=(o<<1>>>24)-127,o=o>>13&1023;t[n]=i<-24?r:i<-14?r+(o+1024>>-14-i):15<i?31744+r:r+(15+i<<10)+o}return t}function fe(e){return Array.isArray(e)||Ee(e)}function t(e){return"[object "+e+"]"}function ce(e){return Array.isArray(e)&&(0===e.length||"number"==typeof e[0])}function se(e){return!(!Array.isArray(e)||0===e.length||!fe(e[0]))}function le(e){return Object.prototype.toString.call(e)}function he(e){if(!e)return!1;var t=le(e);return 0<=f.indexOf(t)||(ce(e)||se(e)||re(e))}function pe(e,t){36193===e.type?(e.data=ae(t),Ae.freeType(t)):e.data=t}function de(e,t,n,r,i,o){if(e=void 0!==s[e]?s[e]:Be[e]*c[t],o&&(e*=6),i){for(r=0;1<=n;)r+=e*n*n,n/=2;return r}return e*n*r}function ve(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function ge(a,f,c,s){function r(e){var t;t=null===f.next?5121:f.next.colorAttachments[0].texture._texture.type;var n=0,r=0,i=s.framebufferWidth,o=s.framebufferHeight,u=null;return Ee(e)?u=e:e&&(n=0|e.x,r=0|e.y,i=0|(e.width||s.framebufferWidth-n),o=0|(e.height||s.framebufferHeight-r),u=e.data||null),c(),e=i*o*4,u||(5121===t?u=new Uint8Array(e):5126===t&&(u=u||new Float32Array(e))),a.pixelStorei(3333,4),a.readPixels(n,r,i,o,6408,t,u),u}return function(e){return e&&"framebuffer"in e?(t=e,f.setFBO({framebuffer:t.framebuffer},function(){n=r(t)}),n):r(e);var t,n}}function B(e){return Array.prototype.slice.call(e)}function R(e){return B(e).join("")}function Y(e){return Array.isArray(e)||Ee(e)||re(e)}function G(e){return e.sort(function(e,t){return"viewport"===e?-1:"viewport"===t?1:e<t?-1:1})}function Z(e,t,n,r){this.thisDep=e,this.contextDep=t,this.propDep=n,this.append=r}function X(e){return e&&!(e.thisDep||e.contextDep||e.propDep)}function J(e){return new Z(!1,!1,!1,e)}function ee(e,t){var n=e.type;return 0===n?new Z(!0,1<=(n=e.data.length),2<=n,t):4===n?new Z((n=e.data).thisDep,n.contextDep,n.propDep,t):new Z(3===n,2===n,1===n,t)}function me(e,P,t,o,W,q,n,U,r,m,N,i,u,v,a){function H(e){return e.replace(".","_")}function f(e,t,n){var r=H(e);Q.push(e),M[r]=D[r]=!!n,O[r]=t}function c(e,t,n){var r=H(e);Q.push(e),Array.isArray(n)?(D[r]=n.slice(),M[r]=n.slice()):D[r]=M[r]=n,z[r]=t}function p(){var r,n,i,o,u,a=(r=0,n=[],i=[],o=c(),u={},{global:o,link:function(e){for(var t=0;t<i.length;++t)if(i[t]===e)return n[t];return t="g"+r++,n.push(t),i.push(e),t},block:c,proc:function(e,t){function n(){var e="a"+r.length;return r.push(e),e}var r=[];t=t||0;for(var i=0;i<t;++i)n();var o=(i=s()).toString;return u[e]=be(i,{arg:n,toString:function(){return R(["function(",r.join(),"){",o(),"}"])}})},scope:s,cond:function(){var t=R(arguments),e=s(),n=s(),r=e.toString,i=n.toString;return be(e,{then:function(){return e.apply(e,B(arguments)),this},else:function(){return n.apply(n,B(arguments)),this},toString:function(){var e=i();return e=e&&"else{"+e+"}",R(["if(",t,"){",r(),"}",e])}})},compile:function(){var t=['"use strict";',o,"return {"];Object.keys(u).forEach(function(e){t.push('"',e,'":',u[e].toString(),",")}),t.push("}");var e=R(t).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return Function.apply(null,n.concat(e)).apply(null,i)}}),f=a.link,t=a.global;function c(){var t=[],n=[];return be(function(){t.push.apply(t,B(arguments))},{def:function(){var e="v"+r++;return n.push(e),0<arguments.length&&(t.push(e,"="),t.push.apply(t,B(arguments)),t.push(";")),e},toString:function(){return R([0<n.length?"var "+n.join(",")+";":"",R(t)])}})}function s(){function r(e,t){n(e,t,"=",i.def(e,t),";")}var i=c(),n=c(),e=i.toString,t=n.toString;return be(function(){i.apply(i,B(arguments))},{def:i.def,entry:i,exit:n,save:r,set:function(e,t,n){r(e,t),i(e,t,"=",n,";")},toString:function(){return e()+t()}})}a.id=I++,a.batchId="0";var l=f(F),h=a.shared={props:"a0"};Object.keys(F).forEach(function(e){h[e]=t.def(l,".",e)});var p=a.next={},d=a.current={};Object.keys(z).forEach(function(e){Array.isArray(D[e])&&(p[e]=t.def(h.next,".",e),d[e]=t.def(h.current,".",e))});var v=a.constants={};Object.keys(L).forEach(function(e){v[e]=t.def(JSON.stringify(L[e]))}),a.invoke=function(e,t){switch(t.type){case 0:var n=["this",h.context,h.props,a.batchId];return e.def(f(t.data),".call(",n.slice(0,Math.max(t.data.length+1,4)),")");case 1:return e.def(h.props,t.data);case 2:return e.def(h.context,t.data);case 3:return e.def("this",t.data);case 4:return t.data.append(a,e),t.data.ref}},a.attribCache={};var g={};return a.scopeAttrib=function(e){if((e=P.id(e))in g)return g[e];var t=m.scope[e];return t=t||(m.scope[e]=new V),g[e]=f(t)},a}function s(e,t,n,r){var i,o,u,a,f,c,s,l,h,p,d,v,g,m,y,b,_,x,w,A,k,E,j,C,S,T,D,M=function(e){var t=e.static,n=e.dynamic;if("framebuffer"in t){var i=t.framebuffer;return i?(i=U.getFramebuffer(i),J(function(e,t){var n=e.link(i),r=e.shared;return t.set(r.framebuffer,".next",n),r=r.context,t.set(r,".framebufferWidth",n+".width"),t.set(r,".framebufferHeight",n+".height"),n})):J(function(e,t){var n=e.shared;return t.set(n.framebuffer,".next","null"),n=n.context,t.set(n,".framebufferWidth",n+".drawingBufferWidth"),t.set(n,".framebufferHeight",n+".drawingBufferHeight"),"null"})}if("framebuffer"in n){var o=n.framebuffer;return ee(o,function(e,t){var n=e.invoke(t,o),r=e.shared,i=r.framebuffer;n=t.def(i,".getFramebuffer(",n,")");return t.set(i,".next",n),r=r.context,t.set(r,".framebufferWidth",n+"?"+n+".width:"+r+".drawingBufferWidth"),t.set(r,".framebufferHeight",n+"?"+n+".height:"+r+".drawingBufferHeight"),n})}return null}(e),O=function(e,t){function n(e){if(e in r){var o=r[e];e=!0;var u,a,f=0|o.x,c=0|o.y;return"width"in o?u=0|o.width:e=!1,"height"in o?a=0|o.height:e=!1,new Z(!e&&t&&t.thisDep,!e&&t&&t.contextDep,!e&&t&&t.propDep,function(e,t){var n=e.shared.context,r=u;"width"in o||(r=t.def(n,".","framebufferWidth","-",f));var i=a;return"height"in o||(i=t.def(n,".","framebufferHeight","-",c)),[f,c,r,i]})}if(e in i){var s=i[e];return e=ee(s,function(e,t){var n=e.invoke(t,s),r=e.shared.context,i=t.def(n,".x|0"),o=t.def(n,".y|0");return[i,o,t.def('"width" in ',n,"?",n,".width|0:","(",r,".","framebufferWidth","-",i,")"),n=t.def('"height" in ',n,"?",n,".height|0:","(",r,".","framebufferHeight","-",o,")")]}),t&&(e.thisDep=e.thisDep||t.thisDep,e.contextDep=e.contextDep||t.contextDep,e.propDep=e.propDep||t.propDep),e}return t?new Z(t.thisDep,t.contextDep,t.propDep,function(e,t){var n=e.shared.context;return[0,0,t.def(n,".","framebufferWidth"),t.def(n,".","framebufferHeight")]}):null}var r=e.static,i=e.dynamic;if(e=n("viewport")){var o=e;e=new Z(e.thisDep,e.contextDep,e.propDep,function(e,t){var n=o.append(e,t),r=e.shared.context;return t.set(r,".viewportWidth",n[2]),t.set(r,".viewportHeight",n[3]),n})}return{viewport:e,scissor_box:n("scissor.box")}}(e,M),z=(v=(d=e).static,g=d.dynamic,m=function(){if("elements"in v){var r=v.elements;r=Y(r)?q.getElements(q.create(r,!0)):r&&q.getElements(r);var e=J(function(e,t){if(r){var n=e.link(r);return e.ELEMENTS=n}return e.ELEMENTS=null});return e.value=r,e}if("elements"in g){var u=g.elements;return ee(u,function(e,t){var n=(r=e.shared).isBufferArgs,r=r.elements,i=e.invoke(t,u),o=t.def("null");n=t.def(n,"(",i,")"),i=e.cond(n).then(o,"=",r,".createStream(",i,");").else(o,"=",r,".getElements(",i,");");return t.entry(i),t.exit(e.cond(n).then(r,".destroyStream(",o,");")),e.ELEMENTS=o})}return null}(),y=R("offset",!0),{elements:m,primitive:function(){if("primitive"in v){var n=v.primitive;return J(function(e,t){return Fe[n]})}if("primitive"in g){var i=g.primitive;return ee(i,function(e,t){var n=e.constants.primTypes,r=e.invoke(t,i);return t.def(n,"[",r,"]")})}return m?X(m)?m.value?J(function(e,t){return t.def(e.ELEMENTS,".primType")}):J(function(){return 4}):new Z(m.thisDep,m.contextDep,m.propDep,function(e,t){var n=e.ELEMENTS;return t.def(n,"?",n,".primType:",4)}):null}(),count:function(){if("count"in v){var e=0|v.count;return J(function(){return e})}if("count"in g){var n=g.count;return ee(n,function(e,t){return e.invoke(t,n)})}return m?X(m)?m?y?new Z(y.thisDep,y.contextDep,y.propDep,function(e,t){return t.def(e.ELEMENTS,".vertCount-",e.OFFSET)}):J(function(e,t){return t.def(e.ELEMENTS,".vertCount")}):J(function(){return-1}):new Z(m.thisDep||y.thisDep,m.contextDep||y.contextDep,m.propDep||y.propDep,function(e,t){var n=e.ELEMENTS;return e.OFFSET?t.def(n,"?",n,".vertCount-",e.OFFSET,":-1"):t.def(n,"?",n,".vertCount:-1")}):null}(),instances:R("instances",!1),offset:y}),F=(l=(s=e).static,h=s.dynamic,p={},Q.forEach(function(o){function e(e,n){if(o in l){var t=e(l[o]);p[i]=J(function(){return t})}else if(o in h){var r=h[o];p[i]=ee(r,function(e,t){return n(e,t,e.invoke(t,r))})}}var i=H(o);switch(o){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":return e(function(e){return e},function(e,t,n){return n});case"depth.func":return e(function(e){return Ke[e]},function(e,t,n){return t.def(e.constants.compareFuncs,"[",n,"]")});case"depth.range":return e(function(e){return e},function(e,t,n){return[t.def("+",n,"[0]"),t=t.def("+",n,"[1]")]});case"blend.func":return e(function(e){return[Qe["srcRGB"in e?e.srcRGB:e.src],Qe["dstRGB"in e?e.dstRGB:e.dst],Qe["srcAlpha"in e?e.srcAlpha:e.src],Qe["dstAlpha"in e?e.dstAlpha:e.dst]]},function(e,n,r){function t(e,t){return n.def('"',e,t,'" in ',r,"?",r,".",e,t,":",r,".",e)}e=e.constants.blendFuncs;var i=t("src","RGB"),o=t("dst","RGB"),u=(i=n.def(e,"[",i,"]"),n.def(e,"[",t("src","Alpha"),"]"));return[i,o=n.def(e,"[",o,"]"),u,e=n.def(e,"[",t("dst","Alpha"),"]")]});case"blend.equation":return e(function(e){return"string"==typeof e?[$[e],$[e]]:"object"==typeof e?[$[e.rgb],$[e.alpha]]:void 0},function(e,t,n){var r=e.constants.blendEquations,i=t.def(),o=t.def();return(e=e.cond("typeof ",n,'==="string"')).then(i,"=",o,"=",r,"[",n,"];"),e.else(i,"=",r,"[",n,".rgb];",o,"=",r,"[",n,".alpha];"),t(e),[i,o]});case"blend.color":return e(function(t){return K(4,function(e){return+t[e]})},function(e,t,n){return K(4,function(e){return t.def("+",n,"[",e,"]")})});case"stencil.mask":return e(function(e){return 0|e},function(e,t,n){return t.def(n,"|0")});case"stencil.func":return e(function(e){return[Ke[e.cmp||"keep"],e.ref||0,"mask"in e?e.mask:-1]},function(e,t,n){return[e=t.def('"cmp" in ',n,"?",e.constants.compareFuncs,"[",n,".cmp]",":",7680),t.def(n,".ref|0"),t=t.def('"mask" in ',n,"?",n,".mask|0:-1")]});case"stencil.opFront":case"stencil.opBack":return e(function(e){return["stencil.opBack"===o?1029:1028,Ye[e.fail||"keep"],Ye[e.zfail||"keep"],Ye[e.zpass||"keep"]]},function(e,t,n){function r(e){return t.def('"',e,'" in ',n,"?",i,"[",n,".",e,"]:",7680)}var i=e.constants.stencilOps;return["stencil.opBack"===o?1029:1028,r("fail"),r("zfail"),r("zpass")]});case"polygonOffset.offset":return e(function(e){return[0|e.factor,0|e.units]},function(e,t,n){return[t.def(n,".factor|0"),t=t.def(n,".units|0")]});case"cull.face":return e(function(e){var t=0;return"front"===e?t=1028:"back"===e&&(t=1029),t},function(e,t,n){return t.def(n,'==="front"?',1028,":",1029)});case"lineWidth":return e(function(e){return e},function(e,t,n){return n});case"frontFace":return e(function(e){return Ge[e]},function(e,t,n){return t.def(n+'==="cw"?2304:2305')});case"colorMask":return e(function(e){return e.map(function(e){return!!e})},function(e,t,n){return K(4,function(e){return"!!"+n+"["+e+"]"})});case"sample.coverage":return e(function(e){return["value"in e?e.value:1,!!e.invert]},function(e,t,n){return[t.def('"value" in ',n,"?+",n,".value:1"),t=t.def("!!",n,".invert")]})}}),p),L=(o=(i=e).static,u=i.dynamic,a=B("frag"),f=B("vert"),c=null,i=X(a)&&X(f)?(c=N.program(f.id,a.id),J(function(e,t){return e.link(c)})):new Z(a&&a.thisDep||f&&f.thisDep,a&&a.contextDep||f&&f.contextDep,a&&a.propDep||f&&f.propDep,function(e,t){var n,r,i=e.shared.shader;return n=a?a.append(e,t):t.def(i,".","frag"),r=f?f.append(e,t):t.def(i,".","vert"),t.def(i+".program("+r+","+n+")")}),{frag:a,vert:f,progVar:i,program:c}),I=O.viewport;function B(e){if(e in o){var t=P.id(o[e]);return(e=J(function(){return t})).id=t,e}if(e in u){var r=u[e];return ee(r,function(e,t){var n=e.invoke(t,r);return t.def(e.shared.strings,".id(",n,")")})}return null}function R(e,r){if(e in v){var n=0|v[e];return J(function(e,t){return r&&(e.OFFSET=n),n})}if(e in g){var i=g[e];return ee(i,function(e,t){var n=e.invoke(t,i);return r&&(e.OFFSET=n),n})}return r&&m?J(function(e,t){return e.OFFSET="0",0}):null}return I&&(F.viewport=I),(O=O[I=H("scissor.box")])&&(F[I]=O),(M={framebuffer:M,draw:z,shader:L,state:F,dirty:O=0<Object.keys(F).length}).profile=function(e){var t,n=e.static;if(e=e.dynamic,"profile"in n){var r=!!n.profile;(t=J(function(e,t){return r})).enable=r}else if("profile"in e){var i=e.profile;t=ee(i,function(e,t){return e.invoke(t,i)})}return t}(e),M.uniforms=(_=(b=n).static,x=b.dynamic,w={},Object.keys(_).forEach(function(e){var t,n=_[e];if("number"==typeof n||"boolean"==typeof n)t=J(function(){return n});else if("function"==typeof n){var r=n._reglType;"texture2d"===r||"textureCube"===r?t=J(function(e){return e.link(n)}):"framebuffer"!==r&&"framebufferCube"!==r||(t=J(function(e){return e.link(n.color[0])}))}else fe(n)&&(t=J(function(e){return e.global.def("[",K(n.length,function(e){return n[e]}),"]")}));t.value=n,w[e]=t}),Object.keys(x).forEach(function(e){var n=x[e];w[e]=ee(n,function(e,t){return e.invoke(t,n)})}),w),M.attributes=(k=(A=t).static,E=A.dynamic,j={},Object.keys(k).forEach(function(e){var t=k[e],i=P.id(e),o=new V;if(Y(t))o.state=1,o.buffer=W.getBuffer(W.create(t,34962,!1,!0)),o.type=0;else if(r=W.getBuffer(t))o.state=1,o.buffer=r,o.type=0;else if("constant"in t){var n=t.constant;o.buffer="null",o.state=2,"number"==typeof n?o.x=n:te.forEach(function(e,t){t<n.length&&(o[e]=n[t])})}else{var r=Y(t.buffer)?W.getBuffer(W.create(t.buffer,34962,!1,!0)):W.getBuffer(t.buffer),u=0|t.offset,a=0|t.stride,f=0|t.size,c=!!t.normalized,s=0;"type"in t&&(s=Te[t.type]),t=0|t.divisor,o.buffer=r,o.state=1,o.size=f,o.normalized=c,o.type=s||r.dtype,o.offset=u,o.stride=a,o.divisor=t}j[e]=J(function(e,t){var n=e.attribCache;if(i in n)return n[i];var r={isStream:!1};return Object.keys(o).forEach(function(e){r[e]=o[e]}),o.buffer&&(r.buffer=e.link(o.buffer),r.type=r.type||r.buffer+".dtype"),n[i]=r})}),Object.keys(E).forEach(function(e){var l=E[e];j[e]=ee(l,function(e,t){function n(e){t(a[e],"=",r,".",e,"|0;")}var r=e.invoke(t,l),i=e.shared,o=e.constants,u=i.isBufferArgs,a=(i=i.buffer,{isStream:t.def(!1)}),f=new V;f.state=1,Object.keys(f).forEach(function(e){a[e]=t.def(""+f[e])});var c=a.buffer,s=a.type;return t("if(",u,"(",r,")){",a.isStream,"=true;",c,"=",i,".createStream(",34962,",",r,");",s,"=",c,".dtype;","}else{",c,"=",i,".getBuffer(",r,");","if(",c,"){",s,"=",c,".dtype;",'}else if("constant" in ',r,"){",a.state,"=",2,";","if(typeof "+r+'.constant === "number"){',a[te[0]],"=",r,".constant;",te.slice(1).map(function(e){return a[e]}).join("="),"=0;","}else{",te.map(function(e,t){return a[e]+"="+r+".constant.length>"+t+"?"+r+".constant["+t+"]:0;"}).join(""),"}}else{","if(",u,"(",r,".buffer)){",c,"=",i,".createStream(",34962,",",r,".buffer);","}else{",c,"=",i,".getBuffer(",r,".buffer);","}",s,'="type" in ',r,"?",o.glTypes,"[",r,".type]:",c,".dtype;",a.normalized,"=!!",r,".normalized;"),n("size"),n("offset"),n("stride"),n("divisor"),t("}}"),t.exit("if(",a.isStream,"){",i,".destroyStream(",c,");","}"),a})}),j),M.context=(S=(C=r).static,T=C.dynamic,D={},Object.keys(S).forEach(function(e){var n=S[e];D[e]=J(function(e,t){return"number"==typeof n||"boolean"==typeof n?""+n:e.link(n)})}),Object.keys(T).forEach(function(e){var n=T[e];D[e]=ee(n,function(e,t){return e.invoke(t,n)})}),D),M}function l(t,n,r){var i=t.shared.context,o=t.scope();Object.keys(r).forEach(function(e){n.save(i,"."+e),o(i,".",e,"=",r[e].append(t,n),";")}),n(o)}function d(e,t,n,r){var i,o=(a=e.shared).gl,u=a.framebuffer;T&&(i=t.def(a.extensions,".webgl_draw_buffers"));var a=(f=e.constants).drawBuffer,f=f.backBuffer;e=n?n.append(e,t):t.def(u,".next"),r||t("if(",e,"!==",u,".cur){"),t("if(",e,"){",o,".bindFramebuffer(",36160,",",e,".framebuffer);"),T&&t(i,".drawBuffersWEBGL(",a,"[",e,".colorAttachments.length]);"),t("}else{",o,".bindFramebuffer(",36160,",null);"),T&&t(i,".drawBuffersWEBGL(",f,");"),t("}",u,".cur=",e,";"),r||t("}")}function h(i,e,o){var t=i.shared,u=t.gl,a=i.current,f=i.next,c=t.current,s=t.next,l=i.cond(c,".dirty");Q.forEach(function(e){var t,n;if(!((e=H(e))in o.state))if(e in f){t=f[e],n=a[e];var r=K(D[e].length,function(e){return l.def(t,"[",e,"]")});l(i.cond(r.map(function(e,t){return e+"!=="+n+"["+t+"]"}).join("||")).then(u,".",z[e],"(",r,");",r.map(function(e,t){return n+"["+t+"]="+e}).join(";"),";"))}else t=l.def(s,".",e),r=i.cond(t,"!==",c,".",e),l(r),e in O?r(i.cond(t).then(u,".enable(",O[e],");").else(u,".disable(",O[e],");"),c,".",e,"=",t,";"):r(u,".",z[e],"(",t,");",c,".",e,"=",t,";")}),0===Object.keys(o.state).length&&l(c,".dirty=false;"),e(l)}function g(o,u,a,f){var e=o.shared,c=o.current,s=e.current,l=e.gl;G(Object.keys(a)).forEach(function(e){var t=a[e];if(!f||f(t)){var n=t.append(o,u);if(O[e]){var r=O[e];X(t)?u(l,n?".enable(":".disable(",r,");"):u(o.cond(n).then(l,".enable(",r,");").else(l,".disable(",r,");")),u(s,".",e,"=",n,";")}else if(fe(n)){var i=c[e];u(l,".",z[e],"(",n,");",n.map(function(e,t){return i+"["+t+"]="+e}).join(";"),";")}else u(l,".",z[e],"(",n,");",s,".",e,"=",n,";")}})}function y(e,t){S&&(e.instancing=t.def(e.shared.extensions,".angle_instanced_arrays"))}function b(e,n,t,r,i){function o(){return"undefined"==typeof performance?"Date.now()":"performance.now()"}function u(e){e(c=n.def(),"=",o(),";"),"string"==typeof i?e(h,".count+=",i,";"):e(h,".count++;"),v&&(r?e(s=n.def(),"=",d,".getNumPendingQueries();"):e(d,".beginQuery(",h,");"))}function a(e){e(h,".cpuTime+=",o(),"-",c,";"),v&&(r?e(d,".pushScopeStats(",s,",",d,".getNumPendingQueries(),",h,");"):e(d,".endQuery();"))}function f(e){var t=n.def(p,".profile");n(p,".profile=",e,";"),n.exit(p,".profile=",t,";")}var c,s,l=e.shared,h=e.stats,p=l.current,d=l.timer;if(t=t.profile){if(X(t))return void(t.enable?(u(n),a(n.exit),f("true")):f("false"));f(t=t.append(e,n))}else t=n.def(p,".profile");u(l=e.block()),n("if(",t,"){",l,"}"),a(e=e.block()),n.exit("if(",t,"){",e,"}")}function _(l,h,o,e,u){var p=l.shared;e.forEach(function(e){var t,n=e.name,r=o.attributes[n];if(r){if(!u(r))return;t=r.append(l,h)}else{if(!u(Ze))return;var i=l.scopeAttrib(n);t={},Object.keys(new V).forEach(function(e){t[e]=h.def(i,".",e)})}!function(e,n,r){function t(){h("if(!",a,".buffer){",o,".enableVertexAttribArray(",u,");}");var e,t=r.type;e=r.size?h.def(r.size,"||",n):n,h("if(",a,".type!==",t,"||",a,".size!==",e,"||",s.map(function(e){return a+"."+e+"!=="+r[e]}).join("||"),"){",o,".bindBuffer(",34962,",",f,".buffer);",o,".vertexAttribPointer(",[u,e,t,r.normalized,r.stride,r.offset],");",a,".type=",t,";",a,".size=",e,";",s.map(function(e){return a+"."+e+"="+r[e]+";"}).join(""),"}"),S&&(t=r.divisor,h("if(",a,".divisor!==",t,"){",l.instancing,".vertexAttribDivisorANGLE(",[u,t],");",a,".divisor=",t,";}"))}function i(){h("if(",a,".buffer){",o,".disableVertexAttribArray(",u,");",a,".buffer=null;","}if(",te.map(function(e,t){return a+"."+e+"!=="+c[t]}).join("||"),"){",o,".vertexAttrib4f(",u,",",c,");",te.map(function(e,t){return a+"."+e+"="+c[t]+";"}).join(""),"}")}var o=p.gl,u=h.def(e,".location"),a=h.def(p.attributes,"[",u,"]");e=r.state;var f=r.buffer,c=[r.x,r.y,r.z,r.w],s=["buffer","normalized","offset","stride"];1===e?t():2===e?i():(h("if(",e,"===",1,"){"),t(),h("}else{"),i(),h("}"))}(l.link(e),function(e){switch(e){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}(e.info.type),t)})}function x(e,t,n,r,i){for(var o,u=e.shared,a=u.gl,f=0;f<r.length;++f){var c,s=(p=r[f]).name,l=p.info.type,h=n.uniforms[s],p=e.link(p)+".location";if(h){if(!i(h))continue;if(X(h)){if(s=h.value,35678===l||35680===l)t(a,".uniform1i(",p,",",(l=e.link(s._texture||s.color[0]._texture))+".bind());"),t.exit(l,".unbind();");else if(35674===l||35675===l||35676===l)h=2,35675===l?h=3:35676===l&&(h=4),t(a,".uniformMatrix",h,"fv(",p,",false,",s=e.global.def("new Float32Array(["+Array.prototype.slice.call(s)+"])"),");");else{switch(l){case 5126:o="1f";break;case 35664:o="2f";break;case 35665:o="3f";break;case 35666:o="4f";break;case 35670:case 5124:o="1i";break;case 35671:case 35667:o="2i";break;case 35672:case 35668:o="3i";break;case 35673:o="4i";break;case 35669:o="4i"}t(a,".uniform",o,"(",p,",",fe(s)?Array.prototype.slice.call(s):s,");")}continue}c=h.append(e,t)}else{if(!i(Ze))continue;c=t.def(u.uniforms,"[",P.id(s),"]")}switch(35678===l?t("if(",c,"&&",c,'._reglType==="framebuffer"){',c,"=",c,".color[0];","}"):35680===l&&t("if(",c,"&&",c,'._reglType==="framebufferCube"){',c,"=",c,".color[0];","}"),s=1,l){case 35678:case 35680:l=t.def(c,"._texture"),t(a,".uniform1i(",p,",",l,".bind());"),t.exit(l,".unbind();");continue;case 5124:case 35670:o="1i";break;case 35667:case 35671:o="2i",s=2;break;case 35668:case 35672:o="3i",s=3;break;case 35669:case 35673:o="4i",s=4;break;case 5126:o="1f";break;case 35664:o="2f",s=2;break;case 35665:o="3f",s=3;break;case 35666:o="4f",s=4;break;case 35674:o="Matrix2fv";break;case 35675:o="Matrix3fv";break;case 35676:o="Matrix4fv"}if(t(a,".uniform",o,"(",p,","),"M"===o.charAt(0)){p=Math.pow(l-35674+2,2);var d=e.global.def("new Float32Array(",p,")");t("false,(Array.isArray(",c,")||",c," instanceof Float32Array)?",c,":(",K(p,function(e){return d+"["+e+"]="+c+"["+e+"]"}),",",d,")")}else t(1<s?K(s,function(e){return c+"["+e+"]"}):c);t(");")}}function w(n,r,i,o){function e(e){var t=g[e];return t?t.contextDep&&o.contextDynamic||t.propDep?t.append(n,i):t.append(n,r):r.def(v,".",e)}function t(){function e(){i(h,".drawElementsInstancedANGLE(",[y,_,x,b+"<<(("+x+"-5121)>>1)",l],");")}function t(){i(h,".drawArraysInstancedANGLE(",[y,b,_,l],");")}m?w?e():(i("if(",m,"){"),e(),i("}else{"),t(),i("}")):t()}function u(){function e(){i(d+".drawElements("+[y,_,x,b+"<<(("+x+"-5121)>>1)"]+");")}function t(){i(d+".drawArrays("+[y,b,_]+");")}m?w?e():(i("if(",m,"){"),e(),i("}else{"),t(),i("}")):t()}var a,f,c,s,l,h,p=n.shared,d=p.gl,v=p.draw,g=o.draw,m=(c=g.elements,s=r,(c=c?((c.contextDep&&o.contextDynamic||c.propDep)&&(s=i),c.append(n,s)):s.def(v,".","elements"))&&s("if("+c+")"+d+".bindBuffer(34963,"+c+".buffer.buffer);"),c),y=e("primitive"),b=e("offset"),_=(a=g.count,f=r,a=a?((a.contextDep&&o.contextDynamic||a.propDep)&&(f=i),a.append(n,f)):f.def(v,".","count"));if("number"==typeof _){if(0===_)return}else i("if(",_,"){"),i.exit("}");S&&(l=e("instances"),h=n.instancing);var x=m+".type",w=g.elements&&X(g.elements);S&&("number"!=typeof l||0<=l)?"string"==typeof l?(i("if(",l,">0){"),t(),i("}else if(",l,"<0){"),u(),i("}")):t():u()}function A(e,t,n,r,i){return i=(t=p()).proc("body",i),S&&(t.instancing=i.def(t.shared.extensions,".angle_instanced_arrays")),e(t,i,n,r),t.compile().body}function k(e,t,n,r){y(e,t),_(e,t,n,r.attributes,function(){return!0}),x(e,t,n,r.uniforms,function(){return!0}),w(e,t,t,n)}function E(e,t,n,r){function i(){return!0}e.batchId="a1",y(e,t),_(e,t,n,r.attributes,i),x(e,t,n,r.uniforms,i),w(e,t,t,n)}function j(t,e,n,r){function i(e){return e.contextDep&&u||e.propDep}function o(e){return!i(e)}y(t,e);var u=n.contextDep,a=e.def(),f=e.def();t.shared.props=f,t.batchId=a;var c=t.scope(),s=t.scope();e(c.entry,"for(",a,"=0;",a,"<","a1",";++",a,"){",f,"=","a0","[",a,"];",s,"}",c.exit),n.needsContext&&l(t,s,n.context),n.needsFramebuffer&&d(t,s,n.framebuffer),g(t,s,n.state,i),n.profile&&i(n.profile)&&b(t,s,n,!1,!0),r?(_(t,c,n,r.attributes,o),_(t,s,n,r.attributes,i),x(t,c,n,r.uniforms,o),x(t,s,n,r.uniforms,i),w(t,c,s,n)):(e=t.global.def("{}"),r=n.shader.progVar.append(t,s),f=s.def(r,".id"),c=s.def(e,"[",f,"]"),s(t.shared.gl,".useProgram(",r,".program);","if(!",c,"){",c,"=",e,"[",f,"]=",t.link(function(e){return A(E,t,n,e,2)}),"(",r,");}",c,".call(this,a0[",a,"],",a,");"))}function C(n,e,t){var i=e.static[t];if(i&&function(e){if("object"==typeof e&&!fe(e)){for(var t=Object.keys(e),n=0;n<t.length;++n)if(_e.isDynamic(e[t[n]]))return!0;return!1}}(i)){var r=n.global,o=Object.keys(i),u=!1,a=!1,f=!1,c=n.global.def("{}");o.forEach(function(e){var t=i[e];if(_e.isDynamic(t))"function"==typeof t&&(t=i[e]=_e.unbox(t)),e=ee(t,null),u=u||e.thisDep,f=f||e.propDep,a=a||e.contextDep;else{switch(r(c,".",e,"="),typeof t){case"number":r(t);break;case"string":r('"',t,'"');break;case"object":Array.isArray(t)&&r("[",t.join(),"]");break;default:r(n.link(t))}r(";")}}),e.dynamic[t]=new _e.DynamicVariable(4,{thisDep:u,contextDep:a,propDep:f,ref:c,append:function(n,r){o.forEach(function(e){var t=i[e];_e.isDynamic(t)&&(t=n.invoke(r,t),r(c,".",e,"=",t,";"))})}}),delete e.static[t]}}var V=m.Record,$={add:32774,subtract:32778,"reverse subtract":32779};t.ext_blend_minmax&&($.min=32775,$.max=32776);var S=t.angle_instanced_arrays,T=t.webgl_draw_buffers,D={dirty:!0,profile:a.profile},M={},Q=[],O={},z={};f("dither",3024),f("blend.enable",3042),c("blend.color","blendColor",[0,0,0,0]),c("blend.equation","blendEquationSeparate",[32774,32774]),c("blend.func","blendFuncSeparate",[1,0,1,0]),f("depth.enable",2929,!0),c("depth.func","depthFunc",513),c("depth.range","depthRange",[0,1]),c("depth.mask","depthMask",!0),c("colorMask","colorMask",[!0,!0,!0,!0]),f("cull.enable",2884),c("cull.face","cullFace",1029),c("frontFace","frontFace",2305),c("lineWidth","lineWidth",1),f("polygonOffset.enable",32823),c("polygonOffset.offset","polygonOffset",[0,0]),f("sample.alpha",32926),f("sample.enable",32928),c("sample.coverage","sampleCoverage",[1,!1]),f("stencil.enable",2960),c("stencil.mask","stencilMask",-1),c("stencil.func","stencilFunc",[519,0,-1]),c("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),c("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),f("scissor.enable",3089),c("scissor.box","scissor",[0,0,e.drawingBufferWidth,e.drawingBufferHeight]),c("viewport","viewport",[0,0,e.drawingBufferWidth,e.drawingBufferHeight]);var F={gl:e,context:u,strings:P,next:M,current:D,draw:i,elements:q,buffer:W,shader:N,attributes:m.state,uniforms:r,framebuffer:U,extensions:t,timer:v,isBufferArgs:Y},L={primTypes:Fe,compareFuncs:Ke,blendFuncs:Qe,blendEquations:$,stencilOps:Ye,glTypes:Te,orientationType:Ge};T&&(L.backBuffer=[1029],L.drawBuffer=K(o.maxDrawbuffers,function(e){return 0===e?[0]:K(e,function(e){return 36064+e})}));var I=0;return{next:M,current:D,procs:function(){var u=p(),a=u.proc("poll"),f=u.proc("refresh"),c=u.block();a(c),f(c);var e,t=u.shared,s=t.gl,l=t.next,h=t.current;c(h,".dirty=false;"),d(u,a),d(u,f,null,!0),S&&(e=u.link(S));for(var n=0;n<o.maxAttributes;++n){var r=f.def(t.attributes,"[",n,"]"),i=u.cond(r,".buffer");i.then(s,".enableVertexAttribArray(",n,");",s,".bindBuffer(",34962,",",r,".buffer.buffer);",s,".vertexAttribPointer(",n,",",r,".size,",r,".type,",r,".normalized,",r,".stride,",r,".offset);").else(s,".disableVertexAttribArray(",n,");",s,".vertexAttrib4f(",n,",",r,".x,",r,".y,",r,".z,",r,".w);",r,".buffer=null;"),f(i),S&&f(e,".vertexAttribDivisorANGLE(",n,",",r,".divisor);")}return Object.keys(O).forEach(function(e){var t=O[e],n=c.def(l,".",e),r=u.block();r("if(",n,"){",s,".enable(",t,")}else{",s,".disable(",t,")}",h,".",e,"=",n,";"),f(r),a("if(",n,"!==",h,".",e,"){",r,"}")}),Object.keys(z).forEach(function(e){var t,n,r=z[e],i=D[e],o=u.block();o(s,".",r,"("),fe(i)?(r=i.length,t=u.global.def(l,".",e),n=u.global.def(h,".",e),o(K(r,function(e){return t+"["+e+"]"}),");",K(r,function(e){return n+"["+e+"]="+t+"["+e+"];"}).join("")),a("if(",K(r,function(e){return t+"["+e+"]!=="+n+"["+e+"]"}).join("||"),"){",o,"}")):(t=c.def(l,".",e),n=c.def(h,".",e),o(t,");",h,".",e,"=",t,";"),a("if(",t,"!==",n,"){",o,"}")),f(o)}),u.compile()}(),compile:function(t,n,e,r,i){var o=p();return o.stats=o.link(i),Object.keys(n.static).forEach(function(e){C(o,n,e)}),$e.forEach(function(e){C(o,t,e)}),e=s(t,n,e,r),function(t,n){var e=t.proc("draw",1);y(t,e),l(t,e,n.context),d(t,e,n.framebuffer),h(t,e,n),g(t,e,n.state),b(t,e,n,!1,!0);var r=n.shader.progVar.append(t,e);if(e(t.shared.gl,".useProgram(",r,".program);"),n.shader.program)k(t,e,n,n.shader.program);else{var i=t.global.def("{}"),o=e.def(r,".id"),u=e.def(i,"[",o,"]");e(t.cond(u).then(u,".call(this,a0);").else(u,"=",i,"[",o,"]=",t.link(function(e){return A(k,t,n,e,1)}),"(",r,");",u,".call(this,a0);"))}0<Object.keys(n.state).length&&e(t.shared.current,".dirty=true;")}(o,e),function(r,i){function e(e){var t=i.shader[e];t&&o.set(u.shader,"."+e,t.append(r,o))}var o=r.proc("scope",3);r.batchId="a2";var u=r.shared,t=u.current;l(r,o,i.context),i.framebuffer&&i.framebuffer.append(r,o),G(Object.keys(i.state)).forEach(function(n){var e=i.state[n].append(r,o);fe(e)?e.forEach(function(e,t){o.set(r.next[n],"["+t+"]",e)}):o.set(u.next,"."+n,e)}),b(r,o,i,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(e){var t=i.draw[e];t&&o.set(u.draw,"."+e,""+t.append(r,o))}),Object.keys(i.uniforms).forEach(function(e){o.set(u.uniforms,"["+P.id(e)+"]",i.uniforms[e].append(r,o))}),Object.keys(i.attributes).forEach(function(e){var t=i.attributes[e].append(r,o),n=r.scopeAttrib(e);Object.keys(new V).forEach(function(e){o.set(n,"."+e,t[e])})}),e("vert"),e("frag"),0<Object.keys(i.state).length&&(o(t,".dirty=true;"),o.exit(t,".dirty=true;")),o("a1(",r.shared.context,",a0,",r.batchId,");")}(o,e),function(t,n){function r(e){return e.contextDep&&i||e.propDep}var e=t.proc("batch",2);t.batchId="0",y(t,e);var i=!1,o=!0;Object.keys(n.context).forEach(function(e){i=i||n.context[e].propDep}),i||(l(t,e,n.context),o=!1);var u=!1;if((a=n.framebuffer)?(a.propDep?i=u=!0:a.contextDep&&i&&(u=!0),u||d(t,e,a)):d(t,e,null),n.state.viewport&&n.state.viewport.propDep&&(i=!0),h(t,e,n),g(t,e,n.state,function(e){return!r(e)}),n.profile&&r(n.profile)||b(t,e,n,!1,"a1"),n.contextDep=i,n.needsContext=o,n.needsFramebuffer=u,(o=n.shader.progVar).contextDep&&i||o.propDep)j(t,e,n,null);else if(o=o.append(t,e),e(t.shared.gl,".useProgram(",o,".program);"),n.shader.program)j(t,e,n,n.shader.program);else{var a=t.global.def("{}"),f=(u=e.def(o,".id"),e.def(a,"[",u,"]"));e(t.cond(f).then(f,".call(this,a0,a1);").else(f,"=",a,"[",u,"]=",t.link(function(e){return A(j,t,n,e,2)}),"(",o,");",f,".call(this,a0,a1);"))}0<Object.keys(n.state).length&&e(t.shared.current,".dirty=true;")}(o,e),o.compile()}}}function ye(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}var be=function(e,t){for(var n=Object.keys(t),r=0;r<n.length;++r)e[n[r]]=t[n[r]];return e},o=0,_e={DynamicVariable:n,define:function(e,t){return new n(e,r(t+""))},isDynamic:function(e){return"function"==typeof e&&!e._reglType||e instanceof n},unbox:function(e,t){return"function"==typeof e?new n(0,e):e},accessor:r},xe={next:"function"==typeof requestAnimationFrame?function(e){return requestAnimationFrame(e)}:function(e){return setTimeout(e,16)},cancel:"function"==typeof cancelAnimationFrame?function(e){return cancelAnimationFrame(e)}:clearTimeout},we="undefined"!=typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date},Ae=e();Ae.zero=e();function ke(t){return Object.keys(t).map(function(e){return t[e]})}var Ee=function(e){return e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Float32Array||e instanceof Float64Array||e instanceof Uint8ClampedArray},je=function(e){for(var t=[];e.length;e=e[0])t.push(e.length);return t},Ce=function(e,t,n,r){var i=1;if(t.length)for(var o=0;o<t.length;++o)i*=t[o];else i=0;switch(n=r||Ae.allocType(n,i),t.length){case 0:break;case 1:for(r=t[0],t=0;t<r;++t)n[t]=e[t];break;case 2:for(r=t[0],t=t[1],o=i=0;o<r;++o)for(var u=e[o],a=0;a<t;++a)n[i++]=u[a];break;case 3:l(e,t[0],t[1],t[2],n,0);break;default:!function e(t,n,r,i,o){for(var u=1,a=r+1;a<n.length;++a)u*=n[a];var f=n[r];if(4==n.length-r){var c=n[r+1],s=n[r+2];for(n=n[r+3],a=0;a<f;++a)l(t[a],c,s,n,i,o),o+=u}else for(a=0;a<f;++a)e(t[a],n,r+1,i,o),o+=u}(e,t,0,n,0)}return n},Se={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Te={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},De={dynamic:35048,stream:35040,static:35044},Me=Ce,Oe=je,ze=[];ze[5120]=1,ze[5122]=2,ze[5124]=4,ze[5121]=1,ze[5123]=2,ze[5125]=4;var Fe={points:0,point:0,lines:1,line:1,triangles:ze[5126]=4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},u=new Float32Array(1),a=new Uint32Array(u.buffer),Le=[9984,9986,9985,9987],Ie=[0,6409,6410,6407,6408],Be={};Be[6409]=Be[6406]=Be[6402]=1,Be[34041]=Be[6410]=2,Be[6407]=Be[35904]=3,Be[6408]=Be[35906]=4;var Re=t("HTMLCanvasElement"),Pe=t("CanvasRenderingContext2D"),We=t("ImageBitmap"),qe=t("HTMLImageElement"),Ue=t("HTMLVideoElement"),f=Object.keys(Se).concat([Re,Pe,We,qe,Ue]),c=[];c[5121]=1,c[5126]=4,c[36193]=2,c[5123]=2,c[5125]=4;var s=[];s[32854]=2,s[32855]=2,s[36194]=2,s[34041]=4,s[33776]=.5,s[33777]=.5,s[33778]=1,s[33779]=1,s[35986]=.5,s[35987]=1,s[34798]=1,s[35840]=.5,s[35841]=.25,s[35842]=.5,s[35843]=.25,s[36196]=.5;var Ne=[];Ne[32854]=2,Ne[32855]=2,Ne[36194]=2,Ne[33189]=2,Ne[36168]=1,Ne[34041]=4,Ne[35907]=4,Ne[34836]=16,Ne[34842]=8,Ne[34843]=6;var He=[];He[6408]=4,He[6407]=3;var Ve=[];Ve[5121]=1,Ve[5126]=4,Ve[36193]=2;var te=["x","y","z","w"],$e="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),Qe={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Ke={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Ye={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Ge={cw:2304,ccw:2305},Ze=new Z(!1,!1,!1,function(){});return function(e){function n(){if(0===V.length)D&&D.update(),Y=null;else{Y=xe.next(n),s();for(var e=V.length-1;0<=e;--e){var t=V[e];t&&t(F,null,0)}p.flush(),D&&D.update()}}function r(){!Y&&0<V.length&&(Y=xe.next(n))}function i(){Y&&(xe.cancel(n),Y=null)}function t(e){e.preventDefault(),i(),$.forEach(function(e){e()})}function o(e){p.getError(),v.restore(),R.restore(),I.restore(),P.restore(),W.restore(),q.restore(),D&&D.restore(),U.procs.refresh(),r(),Q.forEach(function(e){e()})}function u(e){function t(n){var r={},i={};return Object.keys(n).forEach(function(e){var t=n[e];_e.isDynamic(t)?i[e]=_e.unbox(t,e):r[e]=t}),{dynamic:i,static:r}}var r,n=t(e.context||{}),i=t(e.uniforms||{}),o=t(e.attributes||{}),u=t((delete(r=be({},e)).uniforms,delete r.attributes,delete r.context,"stencil"in r&&r.stencil.op&&(r.stencil.opBack=r.stencil.opFront=r.stencil.op,delete r.stencil.op),a("blend"),a("depth"),a("cull"),a("stencil"),a("polygonOffset"),a("scissor"),a("sample"),r));function a(t){if(t in r){var n=r[t];delete r[t],Object.keys(n).forEach(function(e){r[t+"."+e]=n[e]})}}e={gpuTime:0,cpuTime:0,count:0};var f=(n=U.compile(u,o,i,n,e)).draw,c=n.batch,s=n.scope,l=[];return be(function(e,t){var n;if("function"==typeof e)return s.call(this,null,e,0);if("function"==typeof t)if("number"==typeof e)for(n=0;n<e;++n)s.call(this,null,t,n);else{if(!Array.isArray(e))return s.call(this,e,t,0);for(n=0;n<e.length;++n)s.call(this,e[n],t,n)}else if("number"==typeof e){if(0<e)return c.call(this,function(e){for(;l.length<e;)l.push(null);return l}(0|e),0|e)}else{if(!Array.isArray(e))return f.call(this,e);if(e.length)return c.call(this,e,e.length)}},{stats:e})}function a(e,t){var n=0;U.procs.poll();var r=t.color;r&&(p.clearColor(+r[0]||0,+r[1]||0,+r[2]||0,+r[3]||0),n|=16384),"depth"in t&&(p.clearDepth(+t.depth),n|=256),"stencil"in t&&(p.clearStencil(0|t.stencil),n|=1024),p.clear(n)}function f(t){return V.push(t),r(),{cancel:function(){var e=ye(V,t);V[e]=function e(){var t=ye(V,e);V[t]=V[V.length-1],--V.length,V.length<=0&&i()}}}}function c(){var e=N.viewport,t=N.scissor_box;e[0]=e[1]=t[0]=t[1]=0,F.viewportWidth=F.framebufferWidth=F.drawingBufferWidth=e[2]=t[2]=p.drawingBufferWidth,F.viewportHeight=F.framebufferHeight=F.drawingBufferHeight=e[3]=t[3]=p.drawingBufferHeight}function s(){F.tick+=1,F.time=h(),c(),U.procs.poll()}function l(){c(),U.procs.refresh(),D&&D.update()}function h(){return(we()-M)/1e3}if(!(e=ne(e)))return null;var p=e.gl,d=p.getContextAttributes();p.isContextLost();var v=function(n,e){function t(e){var t;e=e.toLowerCase();try{t=r[e]=n.getExtension(e)}catch(e){}return!!t}for(var r={},i=0;i<e.extensions.length;++i){var o=e.extensions[i];if(!t(o))return e.onDestroy(),e.onDone('"'+o+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return e.optionalExtensions.forEach(t),{extensions:r,restore:function(){Object.keys(r).forEach(function(e){if(r[e]&&!t(e))throw Error("(regl): error restoring extension "+e)})}}}(p,e);if(!v)return null;var g,m,y,b,_,x,w,A,k,E,j,C=(E={"":0},j=[""],{id:function(e){var t=E[e];return t||(t=E[e]=j.length,j.push(e),t)},str:function(e){return j[e]}}),S={bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},T=v.extensions,D=function(o){function i(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function n(e,t,n){var r=f.pop()||new i;r.startQueryIndex=e,r.endQueryIndex=t,r.sum=0,r.stats=n,c.push(r)}if(!o.ext_disjoint_timer_query)return null;var u=[],a=[],f=[],c=[],s=[],l=[];return{beginQuery:function(e){var t=u.pop()||o.ext_disjoint_timer_query.createQueryEXT();o.ext_disjoint_timer_query.beginQueryEXT(35007,t),a.push(t),n(a.length-1,a.length,e)},endQuery:function(){o.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:n,update:function(){var e,t;if(0!==(e=a.length)){l.length=Math.max(l.length,e+1),s.length=Math.max(s.length,e+1),s[0]=0;var n=l[0]=0;for(t=e=0;t<a.length;++t){var r=a[t];o.ext_disjoint_timer_query.getQueryObjectEXT(r,34919)?(n+=o.ext_disjoint_timer_query.getQueryObjectEXT(r,34918),u.push(r)):a[e++]=r,s[t+1]=n,l[t+1]=e}for(a.length=e,t=e=0;t<c.length;++t){var i=(n=c[t]).startQueryIndex;r=n.endQueryIndex;n.sum+=s[r]-s[i],i=l[i],(r=l[r])===i?(n.stats.gpuTime+=n.sum/1e6,f.push(n)):(n.startQueryIndex=i,n.endQueryIndex=r,c[e++]=n)}c.length=e}},getNumPendingQueries:function(){return a.length},clear:function(){u.push.apply(u,a);for(var e=0;e<u.length;e++)o.ext_disjoint_timer_query.deleteQueryEXT(u[e]);a.length=0,u.length=0},restore:function(){a.length=0,u.length=0}}}(T),M=we(),O=p.drawingBufferWidth,z=p.drawingBufferHeight,F={tick:0,time:0,viewportWidth:O,viewportHeight:z,framebufferWidth:O,framebufferHeight:z,drawingBufferWidth:O,drawingBufferHeight:z,pixelRatio:e.pixelRatio},L=function(e,t){var n=1;t.ext_texture_filter_anisotropic&&(n=e.getParameter(34047));var r=1,i=1;t.webgl_draw_buffers&&(r=e.getParameter(34852),i=e.getParameter(36063));var o=!!t.oes_texture_float;if(o){o=e.createTexture(),e.bindTexture(3553,o),e.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var u=e.createFramebuffer();if(e.bindFramebuffer(36160,u),e.framebufferTexture2D(36160,36064,3553,o,0),e.bindTexture(3553,null),36053!==e.checkFramebufferStatus(36160))o=!1;else{e.viewport(0,0,1,1),e.clearColor(1,0,0,1),e.clear(16384);var a=Ae.allocType(5126,4);e.readPixels(0,0,1,1,6408,5126,a),o=!e.getError()&&(e.deleteFramebuffer(u),e.deleteTexture(o),1===a[0]),Ae.freeType(a)}}return a=!0,"undefined"!=typeof navigator&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(a=e.createTexture(),u=Ae.allocType(5121,36),e.activeTexture(33984),e.bindTexture(34067,a),e.texImage2D(34069,0,6408,3,3,0,6408,5121,u),Ae.freeType(u),e.bindTexture(34067,null),e.deleteTexture(a),a=!e.getError()),{colorBits:[e.getParameter(3410),e.getParameter(3411),e.getParameter(3412),e.getParameter(3413)],depthBits:e.getParameter(3414),stencilBits:e.getParameter(3415),subpixelBits:e.getParameter(3408),extensions:Object.keys(t).filter(function(e){return!!t[e]}),maxAnisotropic:n,maxDrawbuffers:r,maxColorAttachments:i,pointSizeDims:e.getParameter(33901),lineWidthDims:e.getParameter(33902),maxViewportDims:e.getParameter(3386),maxCombinedTextureUnits:e.getParameter(35661),maxCubeMapSize:e.getParameter(34076),maxRenderbufferSize:e.getParameter(34024),maxTextureUnits:e.getParameter(34930),maxTextureSize:e.getParameter(3379),maxAttributes:e.getParameter(34921),maxVertexUniforms:e.getParameter(36347),maxVertexTextureUnits:e.getParameter(35660),maxVaryingVectors:e.getParameter(36348),maxFragmentUniforms:e.getParameter(36349),glsl:e.getParameter(35724),renderer:e.getParameter(7937),vendor:e.getParameter(7936),version:e.getParameter(7938),readFloat:o,npotTextureCube:a}}(p,T),I=(O=function(e,t,n){for(e=n.maxAttributes,t=Array(e),n=0;n<e;++n)t[n]=new ve;return{Record:ve,scope:{},state:t}}(p,T,L),function(l,r,a,i){function o(e){this.id=t++,this.buffer=l.createBuffer(),this.type=e,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,a.profile&&(this.stats={size:0})}function h(e,t,n){e.byteLength=t.byteLength,l.bufferData(e.type,t,n)}function f(e,t,n,r,i,o){if(e.usage=n,Array.isArray(t)){if(e.dtype=r||5126,0<t.length)if(Array.isArray(t[0])){i=Oe(t);for(var u=r=1;u<i.length;++u)r*=i[u];e.dimension=r,h(e,t=Me(t,i,e.dtype),n),o?e.persistentData=t:Ae.freeType(t)}else"number"==typeof t[0]?(e.dimension=i,oe(i=Ae.allocType(e.dtype,t.length),t),h(e,i,n),o?e.persistentData=i:Ae.freeType(i)):Ee(t[0])&&(e.dimension=t[0].length,e.dtype=r||ie(t[0])||5126,h(e,t=Me(t,[t.length,t[0].length],e.dtype),n),o?e.persistentData=t:Ae.freeType(t))}else if(Ee(t))e.dtype=r||ie(t),e.dimension=i,h(e,t,n),o&&(e.persistentData=new Uint8Array(new Uint8Array(t.buffer)));else if(re(t)){i=t.shape;var a=t.stride,f=(u=t.offset,0),c=0,s=0,l=0;1===i.length?(f=i[0],c=1,s=a[0],l=0):2===i.length&&(f=i[0],c=i[1],s=a[0],l=a[1]),e.dtype=r||ie(t.data)||5126,e.dimension=c,ue(i=Ae.allocType(e.dtype,f*c),t.data,f,c,s,l,u),h(e,i,n),o?e.persistentData=i:Ae.freeType(i)}else t instanceof ArrayBuffer&&(e.dtype=5121,e.dimension=i,h(e,t,n),o&&(e.persistentData=new Uint8Array(new Uint8Array(t))))}function p(e){r.bufferCount--;for(var t=0;t<i.state.length;++t){var n=i.state[t];n.buffer===e&&(l.disableVertexAttribArray(t),n.buffer=null)}l.deleteBuffer(e.buffer),e.buffer=null,delete d[e.id]}var t=0,d={};o.prototype.bind=function(){l.bindBuffer(this.type,this.buffer)},o.prototype.destroy=function(){p(this)};var u=[];return a.profile&&(r.getTotalBufferSize=function(){var t=0;return Object.keys(d).forEach(function(e){t+=d[e].stats.size}),t}),{create:function(e,t,n,u){function c(e){var t=35044,n=null,r=0,i=0,o=1;return Array.isArray(e)||Ee(e)||re(e)||e instanceof ArrayBuffer?n=e:"number"==typeof e?r=0|e:e&&("data"in e&&(n=e.data),"usage"in e&&(t=De[e.usage]),"type"in e&&(i=Te[e.type]),"dimension"in e&&(o=0|e.dimension),"length"in e&&(r=0|e.length)),s.bind(),n?f(s,n,t,i,o,u):(r&&l.bufferData(s.type,r,t),s.dtype=i||5121,s.usage=t,s.dimension=o,s.byteLength=r),a.profile&&(s.stats.size=s.byteLength*ze[s.dtype]),c}r.bufferCount++;var s=new o(t);return d[s.id]=s,n||c(e),c._reglType="buffer",c._buffer=s,c.subdata=function(e,t){var n,r=0|(t||0);if(s.bind(),Ee(e)||e instanceof ArrayBuffer)l.bufferSubData(s.type,r,e);else if(Array.isArray(e)){if(0<e.length)if("number"==typeof e[0]){var i=Ae.allocType(s.dtype,e.length);oe(i,e),l.bufferSubData(s.type,r,i),Ae.freeType(i)}else(Array.isArray(e[0])||Ee(e[0]))&&(n=Oe(e),i=Me(e,n,s.dtype),l.bufferSubData(s.type,r,i),Ae.freeType(i))}else if(re(e)){n=e.shape;var o=e.stride,u=i=0,a=0,f=0;1===n.length?(i=n[0],u=1,a=o[0],f=0):2===n.length&&(i=n[0],u=n[1],a=o[0],f=o[1]),n=Array.isArray(e.data)?s.dtype:ie(e.data),ue(n=Ae.allocType(n,i*u),e.data,i,u,a,f,e.offset),l.bufferSubData(s.type,r,n),Ae.freeType(n)}return c},a.profile&&(c.stats=s.stats),c.destroy=function(){p(s)},c},createStream:function(e,t){var n=u.pop();return(n=n||new o(e)).bind(),f(n,t,35040,0,1,!1),n},destroyStream:function(e){u.push(e)},clear:function(){ke(d).forEach(p),u.forEach(p)},getBuffer:function(e){return e&&e._buffer instanceof o?e._buffer:null},restore:function(){ke(d).forEach(function(e){e.buffer=l.createBuffer(),l.bindBuffer(e.type,e.buffer),l.bufferData(e.type,e.persistentData||e.byteLength,e.usage)})},_initBuffer:f}}(p,S,e,O)),B=function(f,c,s,n){function r(e){this.id=o++,(t[this.id]=this).buffer=e,this.primType=4,this.type=this.vertCount=0}function l(e,t,n,r,i,o,u){if(e.buffer.bind(),t){var a=u;u||Ee(t)&&(!re(t)||Ee(t.data))||(a=c.oes_element_index_uint?5125:5123),s._initBuffer(e.buffer,t,n,a,3)}else f.bufferData(34963,o,n),e.buffer.dtype=a||5121,e.buffer.usage=n,e.buffer.dimension=3,e.buffer.byteLength=o;if(!(a=u)){switch(e.buffer.dtype){case 5121:case 5120:a=5121;break;case 5123:case 5122:a=5123;break;case 5125:case 5124:a=5125}e.buffer.dtype=a}e.type=a,(t=i)<0&&(t=e.buffer.byteLength,5123===a?t>>=1:5125===a&&(t>>=2)),e.vertCount=t,(t=r)<0&&(t=4,1===(r=e.buffer.dimension)&&(t=0),2===r&&(t=1),3===r&&(t=4)),e.primType=t}function i(e){n.elementsCount--,delete t[e.id],e.buffer.destroy(),e.buffer=null}var t={},o=0,h={uint8:5121,uint16:5123};c.oes_element_index_uint&&(h.uint32=5125),r.prototype.bind=function(){this.buffer.bind()};var u=[];return{create:function(e,t){function a(e){if(e)if("number"==typeof e)f(e),c.primType=4,c.vertCount=0|e,c.type=5121;else{var t=null,n=35044,r=-1,i=-1,o=0,u=0;Array.isArray(e)||Ee(e)||re(e)?t=e:("data"in e&&(t=e.data),"usage"in e&&(n=De[e.usage]),"primitive"in e&&(r=Fe[e.primitive]),"count"in e&&(i=0|e.count),"type"in e&&(u=h[e.type]),"length"in e?o=0|e.length:(o=i,5123===u||5122===u?o*=2:5125!==u&&5124!==u||(o*=4))),l(c,t,n,r,i,o,u)}else f(),c.primType=4,c.vertCount=0,c.type=5121;return a}var f=s.create(null,34963,!0),c=new r(f._buffer);return n.elementsCount++,a(e),a._reglType="elements",a._elements=c,a.subdata=function(e,t){return f.subdata(e,t),a},a.destroy=function(){i(c)},a},createStream:function(e){var t=u.pop();return l(t=t||new r(s.create(null,34963,!0,!1)._buffer),e,35040,-1,-1,0,0),t},destroyStream:function(e){u.push(e)},getElements:function(e){return"function"==typeof e&&e._elements instanceof r?e._elements:null},clear:function(){ke(t).forEach(i)}}}(p,T,I,S),R=(g=p,m=C,y=S,_={},x={},w={},A=[],k=0,(b=e).profile&&(y.getMaxUniformsCount=function(){var t=0;return A.forEach(function(e){e.stats.uniformsCount>t&&(t=e.stats.uniformsCount)}),t},y.getMaxAttributesCount=function(){var t=0;return A.forEach(function(e){e.stats.attributesCount>t&&(t=e.stats.attributesCount)}),t}),{clear:function(){var e=g.deleteShader.bind(g);ke(_).forEach(e),_={},ke(x).forEach(e),x={},A.forEach(function(e){g.deleteProgram(e.program)}),A.length=0,w={},y.shaderCount=0},program:function(e,t,n){var r=w[t],i=(r=r||(w[t]={}))[e];return i||(i=new J(t,e),y.shaderCount++,ee(i),r[e]=i,A.push(i)),i},restore:function(){_={},x={};for(var e=0;e<A.length;++e)ee(A[e])},shader:X,frag:-1,vert:-1}),P=function(v,n,e,g,m,u,h){function r(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function p(e,t){e.internalformat=t.internalformat,e.format=t.format,e.type=t.type,e.compressed=t.compressed,e.premultiplyAlpha=t.premultiplyAlpha,e.flipY=t.flipY,e.unpackAlignment=t.unpackAlignment,e.colorSpace=t.colorSpace,e.width=t.width,e.height=t.height,e.channels=t.channels}function y(e,t){if("object"==typeof t&&t){"premultiplyAlpha"in t&&(e.premultiplyAlpha=t.premultiplyAlpha),"flipY"in t&&(e.flipY=t.flipY),"alignment"in t&&(e.unpackAlignment=t.alignment),"colorSpace"in t&&(e.colorSpace=z[t.colorSpace]),"type"in t&&(e.type=F[t.type]);var n=e.width,r=e.height,i=e.channels,o=!1;"shape"in t?(n=t.shape[0],r=t.shape[1],3===t.shape.length&&(i=t.shape[2],o=!0)):("radius"in t&&(n=r=t.radius),"width"in t&&(n=t.width),"height"in t&&(r=t.height),"channels"in t&&(i=t.channels,o=!0)),e.width=0|n,e.height=0|r,e.channels=0|i,n=!1,"format"in t&&(n=t.format,r=e.internalformat=L[n],e.format=H[r],n in F&&!("type"in t)&&(e.type=F[n]),n in I&&(e.compressed=!0),n=!0),!o&&n?e.channels=Be[e.format]:o&&!n&&e.channels!==Ie[e.format]&&(e.format=e.internalformat=Ie[e.channels])}}function b(e){v.pixelStorei(37440,e.flipY),v.pixelStorei(37441,e.premultiplyAlpha),v.pixelStorei(37443,e.colorSpace),v.pixelStorei(3317,e.unpackAlignment)}function t(){r.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function a(e,t){var n=null;if(he(t)?n=t:t&&(y(e,t),"x"in t&&(e.xOffset=0|t.x),"y"in t&&(e.yOffset=0|t.y),he(t.data)&&(n=t.data)),t.copy){var r=m.viewportWidth,i=m.viewportHeight;e.width=e.width||r-e.xOffset,e.height=e.height||i-e.yOffset,e.needsCopy=!0}else if(n){if(Ee(n))e.channels=e.channels||4,e.data=n,"type"in t||5121!==e.type||(e.type=0|Se[Object.prototype.toString.call(n)]);else if(ce(n)){switch(e.channels=e.channels||4,i=(r=n).length,e.type){case 5121:case 5123:case 5125:case 5126:(i=Ae.allocType(e.type,i)).set(r),e.data=i;break;case 36193:e.data=ae(r)}e.alignment=1,e.needsFree=!0}else if(re(n)){r=n.data,Array.isArray(r)||5121!==e.type||(e.type=0|Se[Object.prototype.toString.call(r)]);i=n.shape;var o,u,a,f,c=n.stride;f=3===i.length?(a=i[2],c[2]):a=1,o=i[0],u=i[1],i=c[0],c=c[1],e.alignment=1,e.width=o,e.height=u,e.channels=a,e.format=e.internalformat=Ie[a],e.needsFree=!0,o=f,n=n.offset,a=e.width,f=e.height,u=e.channels;for(var s=Ae.allocType(36193===e.type?5126:e.type,a*f*u),l=0,h=0;h<f;++h)for(var p=0;p<a;++p)for(var d=0;d<u;++d)s[l++]=r[i*p+c*h+o*d+n];pe(e,s)}else if(le(n)===Re||le(n)===Pe)le(n)===Re?e.element=n:e.element=n.canvas,e.width=e.element.width,e.height=e.element.height,e.channels=4;else if(le(n)===We)e.element=n,e.width=n.width,e.height=n.height,e.channels=4;else if(le(n)===qe)e.element=n,e.width=n.naturalWidth,e.height=n.naturalHeight,e.channels=4;else if(le(n)===Ue)e.element=n,e.width=n.videoWidth,e.height=n.videoHeight,e.channels=4;else if(se(n)){for(r=e.width||n[0].length,i=e.height||n.length,c=e.channels,c=fe(n[0][0])?c||n[0][0].length:c||1,o=je(n),a=1,f=0;f<o.length;++f)a*=o[f];a=Ae.allocType(36193===e.type?5126:e.type,a),Ce(n,o,"",a),pe(e,a),e.alignment=1,e.width=r,e.height=i,e.channels=c,e.format=e.internalformat=Ie[c],e.needsFree=!0}}else e.width=e.width||1,e.height=e.height||1,e.channels=e.channels||4}function d(e,t,n,r,i){var o=e.element,u=e.data,a=e.internalformat,f=e.format,c=e.type,s=e.width,l=e.height;b(e),o?v.texSubImage2D(t,i,n,r,f,c,o):e.compressed?v.compressedTexSubImage2D(t,i,n,r,a,s,l,u):e.needsCopy?(g(),v.copyTexSubImage2D(t,i,n,r,e.xOffset,e.yOffset,s,l)):v.texSubImage2D(t,i,n,r,s,l,f,c,u)}function _(){return V.pop()||new t}function x(e){e.needsFree&&Ae.freeType(e.data),t.call(e),V.push(e)}function i(){r.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function w(e,t,n){var r=e.images[0]=_();e.mipmask=1,r.width=e.width=t,r.height=e.height=n,r.channels=e.channels=4}function A(e,t){var n=null;if(he(t))p(n=e.images[0]=_(),e),a(n,t),e.mipmask=1;else if(y(e,t),Array.isArray(t.mipmap))for(var r=t.mipmap,i=0;i<r.length;++i)p(n=e.images[i]=_(),e),n.width>>=i,n.height>>=i,a(n,r[i]),e.mipmask|=1<<i;else p(n=e.images[0]=_(),e),a(n,t),e.mipmask=1;p(e,e.images[0])}function k(e,t){for(var n=e.images,r=0;r<n.length&&n[r];++r){var i=n[r],o=t,u=r,a=i.element,f=i.data,c=i.internalformat,s=i.format,l=i.type,h=i.width,p=i.height,d=i.channels;b(i),a?v.texImage2D(o,u,s,s,l,a):i.compressed?v.compressedTexImage2D(o,u,c,h,p,0,f):i.needsCopy?(g(),v.copyTexImage2D(o,u,s,i.xOffset,i.yOffset,h,p,0)):((i=!f)&&(f=Ae.zero.allocType(l,h*p*d)),v.texImage2D(o,u,s,h,p,0,s,l,f),i&&f&&Ae.zero.freeType(f))}}function E(){var e=$.pop()||new i;r.call(e);for(var t=e.mipmask=0;t<16;++t)e.images[t]=null;return e}function j(e){for(var t=e.images,n=0;n<t.length;++n)t[n]&&x(t[n]),t[n]=null;$.push(e)}function C(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function S(e,t){"min"in t&&(e.minFilter=l[t.min],0<=Le.indexOf(e.minFilter)&&!("faces"in t)&&(e.genMipmaps=!0)),"mag"in t&&(e.magFilter=s[t.mag]);var n=e.wrapS,r=e.wrapT;if("wrap"in t){var i=t.wrap;"string"==typeof i?n=r=c[i]:Array.isArray(i)&&(n=c[i[0]],r=c[i[1]])}else"wrapS"in t&&(n=c[t.wrapS]),"wrapT"in t&&(r=c[t.wrapT]);if(e.wrapS=n,e.wrapT=r,"anisotropic"in t&&(e.anisotropic=t.anisotropic),"mipmap"in t){switch(n=!1,typeof t.mipmap){case"string":e.mipmapHint=f[t.mipmap],n=e.genMipmaps=!0;break;case"boolean":n=e.genMipmaps=t.mipmap;break;case"object":n=!(e.genMipmaps=!1)}!n||"min"in t||(e.minFilter=9984)}}function T(e,t){v.texParameteri(t,10241,e.minFilter),v.texParameteri(t,10240,e.magFilter),v.texParameteri(t,10242,e.wrapS),v.texParameteri(t,10243,e.wrapT),n.ext_texture_filter_anisotropic&&v.texParameteri(t,34046,e.anisotropic),e.genMipmaps&&(v.hint(33170,e.mipmapHint),v.generateMipmap(t))}function D(e){r.call(this),this.mipmask=0,this.internalformat=6408,this.id=Q++,this.refCount=1,this.target=e,this.texture=v.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new C,h.profile&&(this.stats={size:0})}function M(e){v.activeTexture(33984),v.bindTexture(e.target,e.texture)}function O(){var e=G[0];e?v.bindTexture(e.target,e.texture):v.bindTexture(3553,null)}function o(e){var t=e.texture,n=e.unit,r=e.target;0<=n&&(v.activeTexture(33984+n),v.bindTexture(r,null),G[n]=null),v.deleteTexture(t),e.texture=null,e.params=null,e.pixels=null,e.refCount=0,delete K[e.id],u.textureCount--}var f={"don't care":4352,"dont care":4352,nice:4354,fast:4353},c={repeat:10497,clamp:33071,mirror:33648},s={nearest:9728,linear:9729},l=be({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},s),z={none:0,browser:37444},F={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},L={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},I={};n.ext_srgb&&(L.srgb=35904,L.srgba=35906),n.oes_texture_float&&(F.float32=F.float=5126),n.oes_texture_half_float&&(F.float16=F["half float"]=36193),n.webgl_depth_texture&&(be(L,{depth:6402,"depth stencil":34041}),be(F,{uint16:5123,uint32:5125,"depth stencil":34042})),n.webgl_compressed_texture_s3tc&&be(I,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),n.webgl_compressed_texture_atc&&be(I,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),n.webgl_compressed_texture_pvrtc&&be(I,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),n.webgl_compressed_texture_etc1&&(I["rgb etc1"]=36196);var B=Array.prototype.slice.call(v.getParameter(34467));Object.keys(I).forEach(function(e){var t=I[e];0<=B.indexOf(t)&&(L[e]=t)});var R=Object.keys(L);e.textureFormats=R;var P=[];Object.keys(L).forEach(function(e){P[L[e]]=e});var W=[];Object.keys(F).forEach(function(e){W[F[e]]=e});var q=[];Object.keys(s).forEach(function(e){q[s[e]]=e});var U=[];Object.keys(l).forEach(function(e){U[l[e]]=e});var N=[];Object.keys(c).forEach(function(e){N[c[e]]=e});var H=R.reduce(function(e,t){var n=L[t];return 6409===n||6406===n||6409===n||6410===n||6402===n||34041===n?e[n]=n:32855===n||0<=t.indexOf("rgba")?e[n]=6408:e[n]=6407,e},{}),V=[],$=[],Q=0,K={},Y=e.maxTextureUnits,G=Array(Y).map(function(){return null});return be(D.prototype,{bind:function(){this.bindCount+=1;var e=this.unit;if(e<0){for(var t=0;t<Y;++t){var n=G[t];if(n){if(0<n.bindCount)continue;n.unit=-1}G[t]=this,e=t;break}h.profile&&u.maxTextureUnits<e+1&&(u.maxTextureUnits=e+1),this.unit=e,v.activeTexture(33984+e),v.bindTexture(this.target,this.texture)}return e},unbind:function(){--this.bindCount},decRef:function(){--this.refCount<=0&&o(this)}}),h.profile&&(u.getTotalTextureSize=function(){var t=0;return Object.keys(K).forEach(function(e){t+=K[e].stats.size}),t}),{create2D:function(e,t){function s(e,t){var n=l.texInfo;C.call(n);var r=E();return"number"==typeof e?w(r,0|e,"number"==typeof t?0|t:0|e):e?(S(n,e),A(r,e)):w(r,1,1),n.genMipmaps&&(r.mipmask=(r.width<<1)-1),l.mipmask=r.mipmask,p(l,r),l.internalformat=r.internalformat,s.width=r.width,s.height=r.height,M(l),k(r,3553),T(n,3553),O(),j(r),h.profile&&(l.stats.size=de(l.internalformat,l.type,r.width,r.height,n.genMipmaps,!1)),s.format=P[l.internalformat],s.type=W[l.type],s.mag=q[n.magFilter],s.min=U[n.minFilter],s.wrapS=N[n.wrapS],s.wrapT=N[n.wrapT],s}var l=new D(3553);return K[l.id]=l,u.textureCount++,s(e,t),s.subimage=function(e,t,n,r){t|=0,n|=0,r|=0;var i=_();return p(i,l),i.width=0,i.height=0,a(i,e),i.width=i.width||(l.width>>r)-t,i.height=i.height||(l.height>>r)-n,M(l),d(i,3553,t,n,r),O(),x(i),s},s.resize=function(e,t){var n=0|e,r=0|t||n;if(n===l.width&&r===l.height)return s;s.width=l.width=n,s.height=l.height=r,M(l);for(var i,o=l.channels,u=l.type,a=0;l.mipmask>>a;++a){var f=n>>a,c=r>>a;if(!f||!c)break;i=Ae.zero.allocType(u,f*c*o),v.texImage2D(3553,a,l.format,f,c,0,l.format,l.type,i),i&&Ae.zero.freeType(i)}return O(),h.profile&&(l.stats.size=de(l.internalformat,l.type,n,r,!1,!1)),s},s._reglType="texture2d",s._texture=l,h.profile&&(s.stats=l.stats),s.destroy=function(){l.decRef()},s},createCube:function(e,t,n,r,i,o){function f(e,t,n,r,i,o){var u,a=c.texInfo;for(C.call(a),u=0;u<6;++u)s[u]=E();if("number"!=typeof e&&e){if("object"==typeof e)if(t)A(s[0],e),A(s[1],t),A(s[2],n),A(s[3],r),A(s[4],i),A(s[5],o);else if(S(a,e),y(c,e),"faces"in e)for(e=e.faces,u=0;u<6;++u)p(s[u],c),A(s[u],e[u]);else for(u=0;u<6;++u)A(s[u],e)}else for(e=0|e||1,u=0;u<6;++u)w(s[u],e,e);for(p(c,s[0]),c.mipmask=a.genMipmaps?(s[0].width<<1)-1:s[0].mipmask,c.internalformat=s[0].internalformat,f.width=s[0].width,f.height=s[0].height,M(c),u=0;u<6;++u)k(s[u],34069+u);for(T(a,34067),O(),h.profile&&(c.stats.size=de(c.internalformat,c.type,f.width,f.height,a.genMipmaps,!0)),f.format=P[c.internalformat],f.type=W[c.type],f.mag=q[a.magFilter],f.min=U[a.minFilter],f.wrapS=N[a.wrapS],f.wrapT=N[a.wrapT],u=0;u<6;++u)j(s[u]);return f}var c=new D(34067);K[c.id]=c,u.cubeCount++;var s=Array(6);return f(e,t,n,r,i,o),f.subimage=function(e,t,n,r,i){n|=0,r|=0,i|=0;var o=_();return p(o,c),o.width=0,o.height=0,a(o,t),o.width=o.width||(c.width>>i)-n,o.height=o.height||(c.height>>i)-r,M(c),d(o,34069+e,n,r,i),O(),x(o),f},f.resize=function(e){if((e|=0)!==c.width){f.width=c.width=e,f.height=c.height=e,M(c);for(var t=0;t<6;++t)for(var n=0;c.mipmask>>n;++n)v.texImage2D(34069+t,n,c.format,e>>n,e>>n,0,c.format,c.type,null);return O(),h.profile&&(c.stats.size=de(c.internalformat,c.type,f.width,f.height,!1,!0)),f}},f._reglType="textureCube",f._texture=c,h.profile&&(f.stats=c.stats),f.destroy=function(){c.decRef()},f},clear:function(){for(var e=0;e<Y;++e)v.activeTexture(33984+e),v.bindTexture(3553,null),G[e]=null;ke(K).forEach(o),u.cubeCount=0,u.textureCount=0},getTexture:function(e){return null},restore:function(){for(var e=0;e<Y;++e){var t=G[e];t&&(t.bindCount=0,t.unit=-1,G[e]=null)}ke(K).forEach(function(e){e.texture=v.createTexture(),v.bindTexture(e.target,e.texture);for(var t=0;t<32;++t)if(0!=(e.mipmask&1<<t))if(3553===e.target)v.texImage2D(3553,t,e.internalformat,e.width>>t,e.height>>t,0,e.internalformat,e.type,null);else for(var n=0;n<6;++n)v.texImage2D(34069+n,t,e.internalformat,e.width>>t,e.height>>t,0,e.internalformat,e.type,null);T(e.texInfo,e.target)})}}}(p,T,L,function(){U.procs.poll()},F,S,e),W=function(a,e,n,f){function r(e){this.id=i++,this.refCount=1,this.renderbuffer=e,this.format=32854,this.height=this.width=0,f.profile&&(this.stats={size:0})}function t(e){var t=e.renderbuffer;a.bindRenderbuffer(36161,null),a.deleteRenderbuffer(t),e.renderbuffer=null,e.refCount=0,delete l[e.id],n.renderbufferCount--}var c={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};e.ext_srgb&&(c.srgba=35907),e.ext_color_buffer_half_float&&(c.rgba16f=34842,c.rgb16f=34843),e.webgl_color_buffer_float&&(c.rgba32f=34836);var s=[];Object.keys(c).forEach(function(e){s[c[e]]=e});var i=0,l={};return r.prototype.decRef=function(){--this.refCount<=0&&t(this)},f.profile&&(n.getTotalRenderbufferSize=function(){var t=0;return Object.keys(l).forEach(function(e){t+=l[e].stats.size}),t}),{create:function(e,t){function o(e,t){var n=0,r=0,i=32854;if("object"==typeof e&&e?("shape"in e?(n=0|(r=e.shape)[0],r=0|r[1]):("radius"in e&&(n=r=0|e.radius),"width"in e&&(n=0|e.width),"height"in e&&(r=0|e.height)),"format"in e&&(i=c[e.format])):"number"==typeof e?(n=0|e,r="number"==typeof t?0|t:n):e||(n=r=1),n!==u.width||r!==u.height||i!==u.format)return o.width=u.width=n,o.height=u.height=r,u.format=i,a.bindRenderbuffer(36161,u.renderbuffer),a.renderbufferStorage(36161,i,n,r),f.profile&&(u.stats.size=Ne[u.format]*u.width*u.height),o.format=s[u.format],o}var u=new r(a.createRenderbuffer());return l[u.id]=u,n.renderbufferCount++,o(e,t),o.resize=function(e,t){var n=0|e,r=0|t||n;return n===u.width&&r===u.height||(o.width=u.width=n,o.height=u.height=r,a.bindRenderbuffer(36161,u.renderbuffer),a.renderbufferStorage(36161,u.format,n,r),f.profile&&(u.stats.size=Ne[u.format]*u.width*u.height)),o},o._reglType="renderbuffer",o._renderbuffer=u,f.profile&&(o.stats=u.stats),o.destroy=function(){u.decRef()},o},clear:function(){ke(l).forEach(t)},restore:function(){ke(l).forEach(function(e){e.renderbuffer=a.createRenderbuffer(),a.bindRenderbuffer(36161,e.renderbuffer),a.renderbufferStorage(36161,e.format,e.width,e.height)}),a.bindRenderbuffer(36161,null)}}}(p,T,S,e),q=function(r,e,i,c,o,n){function u(e,t,n){this.target=e,this.texture=t,this.renderbuffer=n;var r=e=0;t?(e=t.width,r=t.height):n&&(e=n.width,r=n.height),this.width=e,this.height=r}function t(e){e&&(e.texture&&e.texture._texture.decRef(),e.renderbuffer&&e.renderbuffer._renderbuffer.decRef())}function x(e){e&&(e.texture?e.texture._texture.refCount+=1:e.renderbuffer._renderbuffer.refCount+=1)}function a(e,t){t&&(t.texture?r.framebufferTexture2D(36160,e,t.target,t.texture._texture.texture,0):r.framebufferRenderbuffer(36160,e,36161,t.renderbuffer._renderbuffer.renderbuffer))}function w(e){var t=3553,n=null,r=null,i=e;return"object"==typeof e&&(i=e.data,"target"in e&&(t=0|e.target)),"texture2d"===(e=i._reglType)||"textureCube"===e?n=i:"renderbuffer"===e&&(r=i,t=36161),new u(t,n,r)}function A(e,t,n,r,i){return n?((e=c.create2D({width:e,height:t,format:r,type:i}))._texture.refCount=0,new u(3553,e,null)):((e=o.create({width:e,height:t,format:r}))._renderbuffer.refCount=0,new u(36161,null,e))}function k(e){return e&&(e.texture||e.renderbuffer)}function f(e,t,n){e&&(e.texture?e.texture.resize(t,n):e.renderbuffer&&e.renderbuffer.resize(t,n),e.width=t,e.height=n)}function s(){this.id=v++,(g[this.id]=this).framebuffer=r.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function E(e){e.colorAttachments.forEach(t),t(e.depthAttachment),t(e.stencilAttachment),t(e.depthStencilAttachment)}function l(e){r.deleteFramebuffer(e.framebuffer),e.framebuffer=null,n.framebufferCount--,delete g[e.id]}function j(e){var t;r.bindFramebuffer(36160,e.framebuffer);var n=e.colorAttachments;for(t=0;t<n.length;++t)a(36064+t,n[t]);for(t=n.length;t<i.maxColorAttachments;++t)r.framebufferTexture2D(36160,36064+t,3553,null,0);r.framebufferTexture2D(36160,33306,3553,null,0),r.framebufferTexture2D(36160,36096,3553,null,0),r.framebufferTexture2D(36160,36128,3553,null,0),a(36096,e.depthAttachment),a(36128,e.stencilAttachment),a(33306,e.depthStencilAttachment),r.checkFramebufferStatus(36160),r.isContextLost(),r.bindFramebuffer(36160,p.next?p.next.framebuffer:null),p.cur=p.next,r.getError()}function h(e,t){function b(e,t){var n,r=0,i=0,o=!0,u=!0,a=!(n=null),f="rgba",c="uint8",s=1,l=null,h=null,p=null,d=!1;"number"==typeof e?(r=0|e,i=0|t||r):e?("shape"in e?(r=(i=e.shape)[0],i=i[1]):("radius"in e&&(r=i=e.radius),"width"in e&&(r=e.width),"height"in e&&(i=e.height)),("color"in e||"colors"in e)&&(n=e.color||e.colors,Array.isArray(n)),n||("colorCount"in e&&(s=0|e.colorCount),"colorTexture"in e&&(a=!!e.colorTexture,f="rgba4"),"colorType"in e&&(c=e.colorType,!a)&&("half float"===c||"float16"===c?f="rgba16f":"float"!==c&&"float32"!==c||(f="rgba32f")),"colorFormat"in e&&(f=e.colorFormat,0<=C.indexOf(f)?a=!0:0<=S.indexOf(f)&&(a=!1))),("depthTexture"in e||"depthStencilTexture"in e)&&(d=!(!e.depthTexture&&!e.depthStencilTexture)),"depth"in e&&("boolean"==typeof e.depth?o=e.depth:(l=e.depth,u=!1)),"stencil"in e&&("boolean"==typeof e.stencil?u=e.stencil:(h=e.stencil,o=!1)),"depthStencil"in e&&("boolean"==typeof e.depthStencil?o=u=e.depthStencil:(p=e.depthStencil,u=o=!1))):r=i=1;var v=null,g=null,m=null,y=null;if(Array.isArray(n))v=n.map(w);else if(n)v=[w(n)];else for(v=Array(s),n=0;n<s;++n)v[n]=A(r,i,a,f,c);for(r=r||v[0].width,i=i||v[0].height,l?g=w(l):o&&!u&&(g=A(r,i,d,"depth","uint32")),h?m=w(h):u&&!o&&(m=A(r,i,!1,"stencil","uint8")),p?y=w(p):!l&&!h&&u&&o&&(y=A(r,i,d,"depth stencil","depth stencil")),o=null,n=0;n<v.length;++n)x(v[n]),v[n]&&v[n].texture&&(u=He[v[n].texture._texture.format]*Ve[v[n].texture._texture.type],null===o&&(o=u));return x(g),x(m),x(y),E(_),_.width=r,_.height=i,_.colorAttachments=v,_.depthAttachment=g,_.stencilAttachment=m,_.depthStencilAttachment=y,b.color=v.map(k),b.depth=k(g),b.stencil=k(m),b.depthStencil=k(y),b.width=_.width,b.height=_.height,j(_),b}var _=new s;return n.framebufferCount++,b(e,t),be(b,{resize:function(e,t){var n=Math.max(0|e,1),r=Math.max(0|t||n,1);if(n===_.width&&r===_.height)return b;for(var i=_.colorAttachments,o=0;o<i.length;++o)f(i[o],n,r);return f(_.depthAttachment,n,r),f(_.stencilAttachment,n,r),f(_.depthStencilAttachment,n,r),_.width=b.width=n,_.height=b.height=r,j(_),b},_reglType:"framebuffer",_framebuffer:_,destroy:function(){l(_),E(_)},use:function(e){p.setFBO({framebuffer:b},e)}})}var p={cur:null,next:null,dirty:!1,setFBO:null},C=["rgba"],S=["rgba4","rgb565","rgb5 a1"];e.ext_srgb&&S.push("srgba"),e.ext_color_buffer_half_float&&S.push("rgba16f","rgb16f"),e.webgl_color_buffer_float&&S.push("rgba32f");var d=["uint8"];e.oes_texture_half_float&&d.push("half float","float16"),e.oes_texture_float&&d.push("float","float32");var v=0,g={};return be(p,{getFramebuffer:function(e){return"function"==typeof e&&"framebuffer"===e._reglType&&(e=e._framebuffer)instanceof s?e:null},create:h,createCube:function(e){function a(e){var t,n={color:null},r=0,i=null;t="rgba";var o="uint8",u=1;if("number"==typeof e?r=0|e:e?("shape"in e?r=e.shape[0]:("radius"in e&&(r=0|e.radius),"width"in e?r=0|e.width:"height"in e&&(r=0|e.height)),("color"in e||"colors"in e)&&(i=e.color||e.colors,Array.isArray(i)),i||("colorCount"in e&&(u=0|e.colorCount),"colorType"in e&&(o=e.colorType),"colorFormat"in e&&(t=e.colorFormat)),"depth"in e&&(n.depth=e.depth),"stencil"in e&&(n.stencil=e.stencil),"depthStencil"in e&&(n.depthStencil=e.depthStencil)):r=1,i)if(Array.isArray(i))for(e=[],t=0;t<i.length;++t)e[t]=i[t];else e=[i];else for(e=Array(u),i={radius:r,format:t,type:o},t=0;t<u;++t)e[t]=c.createCube(i);for(n.color=Array(e.length),t=0;t<e.length;++t)u=e[t],r=r||u.width,n.color[t]={target:34069,data:e[t]};for(t=0;t<6;++t){for(u=0;u<e.length;++u)n.color[u].target=34069+t;0<t&&(n.depth=f[0].depth,n.stencil=f[0].stencil,n.depthStencil=f[0].depthStencil),f[t]?f[t](n):f[t]=h(n)}return be(a,{width:r,height:r,color:e})}var f=Array(6);return a(e),be(a,{faces:f,resize:function(e){var t=0|e;if(t===a.width)return a;var n=a.color;for(e=0;e<n.length;++e)n[e].resize(t);for(e=0;e<6;++e)f[e].resize(t);return a.width=a.height=t,a},_reglType:"framebufferCube",destroy:function(){f.forEach(function(e){e.destroy()})}})},clear:function(){ke(g).forEach(l)},restore:function(){p.cur=null,p.next=null,p.dirty=!0,ke(g).forEach(function(e){e.framebuffer=r.createFramebuffer(),j(e)})}})}(p,T,L,P,W,S),U=me(p,C,T,L,I,B,0,q,{},O,R,{elements:null,primitive:4,count:-1,offset:0,instances:-1},F,D,e),N=(C=ge(p,q,U.procs.poll,F),U.next),H=p.canvas,V=[],$=[],Q=[],K=[e.onDestroy],Y=null;function G(e,t,n,r){this.name=e,this.id=t,this.location=n,this.info=r}function Z(e,t){for(var n=0;n<e.length;++n)if(e[n].id===t.id)return void(e[n].location=t.location);e.push(t)}function X(e,t,n){if(!(i=(n=35632===e?_:x)[t])){var r=m.str(t),i=g.createShader(e);g.shaderSource(i,r),g.compileShader(i),n[t]=i}return i}function J(e,t){this.id=k++,this.fragId=e,this.vertId=t,this.program=null,this.uniforms=[],this.attributes=[],b.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function ee(e){var t,n;t=X(35632,e.fragId),n=X(35633,e.vertId);var r=e.program=g.createProgram();g.attachShader(r,t),g.attachShader(r,n),g.linkProgram(r);var i=g.getProgramParameter(r,35718);b.profile&&(e.stats.uniformsCount=i);var o=e.uniforms;for(t=0;t<i;++t)if(n=g.getActiveUniform(r,t))if(1<n.size)for(var u=0;u<n.size;++u){var a=n.name.replace("[0]","["+u+"]");Z(o,new G(a,m.id(a),g.getUniformLocation(r,a),n))}else Z(o,new G(n.name,m.id(n.name),g.getUniformLocation(r,n.name),n));for(i=g.getProgramParameter(r,35721),b.profile&&(e.stats.attributesCount=i),o=e.attributes,t=0;t<i;++t)(n=g.getActiveAttrib(r,t))&&Z(o,new G(n.name,m.id(n.name),g.getAttribLocation(r,n.name),n))}H&&(H.addEventListener("webglcontextlost",t,!1),H.addEventListener("webglcontextrestored",o,!1));var te=q.setFBO=u({framebuffer:_e.define.call(null,1,"framebuffer")});return l(),d=be(u,{clear:function(e){if("framebuffer"in e)if(e.framebuffer&&"framebufferCube"===e.framebuffer_reglType)for(var t=0;t<6;++t)te(be({framebuffer:e.framebuffer.faces[t]},e),a);else te(e,a);else a(0,e)},prop:_e.define.bind(null,1),context:_e.define.bind(null,2),this:_e.define.bind(null,3),draw:u({}),buffer:function(e){return I.create(e,34962,!1,!1)},elements:function(e){return B.create(e,!1)},texture:P.create2D,cube:P.createCube,renderbuffer:W.create,framebuffer:q.create,framebufferCube:q.createCube,attributes:d,frame:f,on:function(e,t){var n;switch(e){case"frame":return f(t);case"lost":n=$;break;case"restore":n=Q;break;case"destroy":n=K}return n.push(t),{cancel:function(){for(var e=0;e<n.length;++e)if(n[e]===t){n[e]=n[n.length-1],n.pop();break}}}},limits:L,hasExtension:function(e){return 0<=L.extensions.indexOf(e.toLowerCase())},read:C,destroy:function(){V.length=0,i(),H&&(H.removeEventListener("webglcontextlost",t),H.removeEventListener("webglcontextrestored",o)),R.clear(),q.clear(),W.clear(),P.clear(),B.clear(),I.clear(),D&&D.clear(),K.forEach(function(e){e()})},_gl:p,_refresh:l,poll:function(){s(),D&&D.update()},now:h,stats:S}),e.onDone(null,d),d}},"object"==typeof n&&void 0!==t?t.exports=i():"function"==typeof define&&define.amd?define(i):r.createREGL=i()},{}],65:[function(e,t,n){"use strict";var i=e("parse-unit");t.exports=f;var o=a("in",document.body);function u(e,t){var n=i(getComputedStyle(e).getPropertyValue(t));return n[0]*f(n[1],e)}function a(e,t){var n=document.createElement("div");n.style.height="128"+e,t.appendChild(n);var r=u(n,"height")/128;return t.removeChild(n),r}function f(e,t){if(!e)return null;switch(t=t||document.body,e=(e+""||"px").trim().toLowerCase(),t!==window&&t!==document||(t=document.body),e){case"%":return t.clientHeight/100;case"ch":case"ex":return a(e,t);case"em":return u(t,"font-size");case"rem":return u(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return o;case"cm":return o/2.54;case"mm":return o/25.4;case"pt":return o/72;case"pc":return o/6;case"px":return 1}var n=i(e);if(isNaN(n[0])||!n[1])return null;var r=f(n[1],t);return"number"==typeof r?n[0]*r:null}},{"parse-unit":62}]},{},[4]);
</script>
</html>
